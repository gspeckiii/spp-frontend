(()=>{"use strict";var e,t={594:(e,t,a)=>{var r=a(540),l=a(338),n=a(794),s=(a(879),a(107)),o=a(83);const c=(0,r.createContext)(),i=(0,r.createContext)(),m="https://shermanpeckproductions.com",d=`${m}/api`,u=`${m}/`;function p({children:e}){const t={appIsReady:!1,loggedIn:Boolean(localStorage.getItem("SPPtoken")),flashMessages:[],user:{token:localStorage.getItem("SPPtoken"),username:localStorage.getItem("SPPusername"),avatar:localStorage.getItem("SPPavatar"),bio:localStorage.getItem("SPPbio"),admin:Boolean(localStorage.getItem("SPPadmin")),user_id:parseInt(localStorage.getItem("SPPuser_id"))||null,refresh_interval:parseInt(localStorage.getItem("SPPrefreshInterval"))||18e5},categories:{list:[],selectedCategory:null,loading:!1,error:null},historicProducts:{list:[],loading:!0,error:null},products:[],urls:{server:m,api:d,images:u}},[a,l]=(0,s.A)((function(e,t){switch(t.type){case"setAppIsReady":return void(e.appIsReady=!0);case"flashMessage":return void e.flashMessages.push(t.value);case"logIn":return e.loggedIn=!0,void(e.user={...t.data,user_id:t.data.user_id,refresh_interval:t.data.refresh_interval||e.user.refresh_interval});case"logOut":return e.loggedIn=!1,localStorage.removeItem("SPPtoken"),localStorage.removeItem("SPPusername"),localStorage.removeItem("SPPavatar"),localStorage.removeItem("SPPbio"),localStorage.removeItem("SPPadmin"),void localStorage.removeItem("SPPuser_id");case"setCategoryLoading":return void(e.categories.loading=!0);case"setCategories":return e.categories.list=Array.from(new Map(t.data.map((e=>[e.cat_id,{...e,prod_count:parseInt(e.prod_count)||0}]))).values()),e.categories.loading=!1,void(e.categories.error=null);case"setCategoryError":return e.categories.error=t.data,void(e.categories.loading=!1);case"setHistoricProductsLoading":return void(e.historicProducts.loading=!0);case"setHistoricProducts":return e.historicProducts.list=t.data,e.historicProducts.loading=!1,void(e.historicProducts.error=null);case"setHistoricProductsError":return e.historicProducts.error=t.data,void(e.historicProducts.loading=!1)}}),t);return(0,r.useEffect)((()=>{a.loggedIn&&(localStorage.setItem("SPPtoken",a.user.token),localStorage.setItem("SPPusername",a.user.username),localStorage.setItem("SPPavatar",a.user.avatar),localStorage.setItem("SPPbio",a.user.bio),localStorage.setItem("SPPadmin",a.user.admin),localStorage.setItem("SPPuser_id",a.user.user_id))}),[a.loggedIn]),(0,r.useEffect)((()=>{const e=o.A.CancelToken.source();return async function(){try{const[t,a]=await Promise.all([o.A.get("/categories",{cancelToken:e.token}),o.A.get("/products/historic",{cancelToken:e.token})]);l({type:"setCategories",data:t.data}),l({type:"setHistoricProducts",data:a.data})}catch(e){o.A.isCancel(e)||console.error("Error fetching initial app data:",e)}l({type:"setAppIsReady"})}(),()=>e.cancel()}),[]),r.createElement(c.Provider,{value:a},r.createElement(i.Provider,{value:l},e))}o.A.defaults.baseURL=d,console.log("Axios API baseURL configured to:",o.A.defaults.baseURL);var _=a(325),g=a(636);const E=function(){return r.createElement("div",{className:"dots-loading"},r.createElement("div",null))},f=function(){const e=(0,r.useContext)(c),{urls:t,categories:a}=e,[l,s]=(0,r.useState)({}),o=(0,r.useMemo)((()=>a.list||[]),[a.list]),[i,m]=(0,r.useState)(!0),[d,u]=(0,r.useState)({});if((0,r.useEffect)((()=>{0!==o.length&&t.api?(async()=>{m(!0);const e=o.map((async e=>{if(!e.cat_id)return[e.cat_id,0];try{const a=await fetch(`${t.api}/products/category/${e.cat_id}`);if(a.ok){const t=await a.json();return[e.cat_id,Array.isArray(t)?t.length:0]}return[e.cat_id,0]}catch(t){return console.error(`Error fetching products for category ${e.cat_id}:`,t.message),[e.cat_id,0]}})),a=await Promise.all(e),r=Object.fromEntries(a);s(r),m(!1)})():m(!1)}),[o,t.api]),a.loading||i)return r.createElement("div",{className:"container__centering-wrapper"},r.createElement(E,null));if(0===o.length)return r.createElement("div",{className:"container__centering-wrapper"},"No categories available");const p=o.filter((e=>{const t=e.cat_img_path,a=!e.historic,r=l[e.cat_id]>0;return t&&a&&r}));if(0===p.length)return r.createElement("div",{className:"container__centering-wrapper"},"No active categories to display at this time.");const f=p.length,h={modules:[g.Vx],spaceBetween:10,className:"swiper",navigation:f>(window.innerWidth>=1024?3:window.innerWidth>=730?2:1),centeredSlides:f<3,slidesPerView:1,breakpoints:{730:{slidesPerView:Math.min(f,2),spaceBetween:20},1024:{slidesPerView:Math.min(f,3),spaceBetween:30}}};return r.createElement("div",{className:"swiper-container-wrapper"},r.createElement(_.RC,h,p.map((e=>r.createElement(_.qr,{key:e.cat_id},r.createElement("div",{className:"swiper-slide__card"},r.createElement("img",{src:e.cat_img_path?`${t.images}${e.cat_img_path}`:"/assets/images/default.jpg",alt:e.cat_name||"Category",className:"swiper-slide__image",onError:e=>{e.target.src="/assets/images/default.jpg"}}),r.createElement("div",{className:"swiper-slide__content"},r.createElement("div",{className:"swiper-slide__main-content"},r.createElement(n.N_,{to:`/category/${e.cat_id}/products`,className:"swiper-slide__link"},r.createElement("h3",{className:"swiper-slide__title"},e.cat_name||"Unknown")),r.createElement("div",{className:"collapsible-content "+(d[e.cat_id]?"":"is-collapsed")},e.cat_desc&&r.createElement("p",{className:"swiper-slide__subtitle"},e.cat_desc))),e.cat_desc&&r.createElement("div",{className:"swiper-slide__footer swiper-slide__footer--centered"},r.createElement("button",{onClick:()=>{return t=e.cat_id,void u((e=>({...e,[t]:!e[t]})));var t},className:"swiper-slide__about-button"},d[e.cat_id]?"Hide":"About")),r.createElement("div",{className:"swiper-slide__footer"},e.cat_vid?r.createElement("a",{href:e.cat_vid,target:"_blank",rel:"noopener noreferrer",className:"swiper-slide__youtube"},r.createElement("img",{src:"/assets/images/icons/youtube.svg",alt:"Watch on YouTube",className:"swiper-slide__youtube-icon"})):r.createElement("div",{className:"swiper-slide__youtube-placeholder"}),r.createElement(n.N_,{to:`/category/${e.cat_id}/products`,className:"swiper-slide__product-count-circle"},l[e.cat_id])))))))))},h=function(){return r.createElement(r.Fragment,null,r.createElement("h1",{className:"container__heading--animated"},"Art Forms"),r.createElement(f,null))},v=function(){return r.createElement(r.Fragment,null,r.createElement("h1",{className:"container__heading--animated"},"Art Forms"),r.createElement(f,null),r.createElement("div",{className:"container__wrapper--narrow"},r.createElement(n.N_,{className:"form__button",to:"/register"},"Register")))},b=a.p+"assets/images/Profile.png",y=function(){return(0,r.useEffect)((()=>{document.title="About Us | SPP",window.scrollTo(0,0)}),[]),r.createElement(r.Fragment,null,r.createElement("div",{className:"container container--two-column"},r.createElement("div",{className:"container__column-left"},r.createElement("img",{className:"container__image",src:b,alt:"A professional headshot"}),r.createElement("h1",{className:"container__heading-main"},"George Sherman Peck III"),r.createElement("h2",{className:"container__heading-sub"},"Born · May 23, 1978"),r.createElement("h2",{className:"container__heading-sub"},"Evansville · IN"),r.createElement("hr",{className:"container__line-break"}),r.createElement("ul",{className:"container__link-list"},r.createElement("li",null,r.createElement(n.N_,{to:"/about-family"},"Family")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-history"},"Art History")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-engineer"},"MSU Engineer")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-raven"},"Raven Marie Peck")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-build"},"Custom Home")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-mtb"},"Cycling"))),r.createElement("hr",{className:"container__line-break"})),r.createElement("div",{className:"container__column-right container__column-right--v-center"},r.createElement("p",{className:"container__text-block"},"Art is the essential language of experience. I see it as a bridge connecting our present lives to the past, providing a way to honor those who came before us while leaving behind a meaningful legacy. My work explores truths that exist beyond the simple frameworks of good and evil, using the creative act as a tool for radical self-confrontation. The driving forces behind my practice are a relentless curiosity and a dedication to honing my craft. I find profound fulfillment in technical development and the pleasure of exploration. Ultimately, my aspiration is to tend to this creative spirit with hope and sincerity, contributing something of lasting value as a keeper of the flame."))),r.createElement("div",{className:"container__wrapper--narrow"},r.createElement(n.N_,{className:"form__button",to:"/",style:{display:"inline-block",width:"auto",margin:"2rem 0"}},"Collections")))},N=function(e){const t=`\n    container\n    ${e.wide?"container--wide":"container--narrow"}\n    ${e.className||""}\n  `.trim().replace(/\s+/g," ");return r.createElement("div",{className:t},e.children)},w=function(e){(0,r.useEffect)((()=>{document.title=`${e.title} | SPP`,window.scrollTo(0,0)}),[e.title]);let t="container--narrow";return"wide"===e.layout?t="container--wide":"two-column"===e.layout&&(t="container--two-column"),r.createElement(N,{className:t,transparent:e.transparent},e.children)},C=function(){return r.createElement(w,{title:"About The Engineer"},r.createElement("div",{className:"resume-container"},r.createElement("div",{className:"resume-content-box"},r.createElement("div",{className:"resume-section resume-section--contact"},r.createElement("h1",null,"George Sherman Peck III"),r.createElement("p",null,"210 W Marilyn Ave, Everett, WA 98204"),r.createElement("p",null,"(425) 426-4215 | g.peck.iii@gmail.com")),r.createElement("div",{className:"resume-section"},r.createElement("h2",null,"Education"),r.createElement("h3",null,"B.S. Industrial Engineering"),r.createElement("p",null,"Montana State University, Bozeman, MT, May 2009 Cumulative GPA: 3.12"),r.createElement("ul",null,r.createElement("li",null,"Member, Alpha Pi Mu Industrial Engineering Honor Society"),r.createElement("li",null,"Passed Fundamentals of Engineering (FE) Exam, April 2009")),r.createElement("h3",null,"B.A. Ceramics & Sculpture"),r.createElement("p",null,"Kansas City Art Institute, Kansas City, MO, May 2001")),r.createElement("div",{className:"resume-section"},r.createElement("h2",null,"Professional Summary"),r.createElement("p",null,"Results-driven industrial engineer with over 13 years of experience in aerospace manufacturing, specializing in process optimization, discrete event simulation, and data analytics. Proficient in SQL, Python, and modeling tools like Simio and ProModel, with a proven track record of delivering $1.5M in cost savings and improving operational efficiency by up to 25%. Adept at leading cross-functional teams to solve complex problems in fast-paced environments, aligning with America's mission to advance technology and national defense.")),r.createElement("div",{className:"resume-section"},r.createElement("h2",null,"Professional Experience"),r.createElement("h3",null,"Founder, Sherman Peck Productions"),r.createElement("h3",null,"Mar 2025 - Current"),r.createElement("ul",null,r.createElement("li",null,"Venue to establish a portfolio of industrial engineering services and love of humanity. The enduring strength of the human spirit is an inspiration to me and this application is a medium in which I can express my principals and perceptions."),r.createElement("li",null,"E-commerce platform using PostgreSQL and Node Express to sell patriot-inspired goods, integrating art and engineering principles.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"Industrial Engineer IV, Product Development, Boeing Company, Everett, WA"),r.createElement("h3",null,"Aug 2022 - Mar 2025"),r.createElement("ul",null,r.createElement("li",null,"Conducted discrete event simulations to optimize 737 assembly line processes, improving resource utilization by 25%."),r.createElement("li",null,"Executed trade studies on cost, flow, and resource allocation, providing actionable insights for leadership."),r.createElement("li",null,"Designed a SQL-based database system to streamline analysis of 1,500+ installation plans, reducing analysis time by 40%."),r.createElement("li",null,"Developed a web-based application using JavaScript and HTML/CSS to track benchmarking data, increasing process accuracy by 30%."),r.createElement("li",null,"Developed process flow models to optimize inventory and supply chain operations, enhancing order fulfillment efficiency by 20%.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"Contract Industrial Engineer, Collinear/ATT Metrology (Boeing Contractor), Everett, WA"),r.createElement("h3",null,"Aug 2019 - Aug 2022"),r.createElement("ul",null,r.createElement("li",null,"Identified critical defects in landing gear sensor brackets, preventing risks across 1,000+ aircraft and saving $1.5M in cost avoidance."),r.createElement("li",null,"Created simulations and applications for work studies using Python and Simio, reducing labor costs by 15%."),r.createElement("li",null,"Developed precedence models and work instructions for 737 assembly, improving workflow efficiency by 20%.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"SQL & Business Intelligence Developer, Boeing Company, Everett, WA"),r.createElement("h3",null,"Sep 2016 - Jan 2019"),r.createElement("ul",null,r.createElement("li",null,"Built SQL Server applications and Tableau dashboards to track 500+ production plans, boosting team productivity by 35%."),r.createElement("li",null,"Designed algorithms for manufacturing recovery plans, reducing downtime by 10%."),r.createElement("li",null,"Developed a dynamic dispatch system for work orders, improving schedule adherence by 15%.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"Industrial Engineer, Automation Support, Boeing Company, Everett, WA"),r.createElement("h3",null,"May 2014 - Sep 2016"),r.createElement("ul",null,r.createElement("li",null,"Developed discrete event simulations for automated zones using Simio, optimizing robot scheduling and increasing throughput by 18%."),r.createElement("li",null,"Automated job sequencing with SQL Server, reducing manual workload by 30%."),r.createElement("li",null,"Designed a zone mapping system for real-time job visualization, reducing errors by 20%.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"Special Assignment, Crew Space Taxi (CST-100), Boeing Company, Everett, WA"),r.createElement("h3",null,"Sep 2017 - Dec 2017"),r.createElement("ul",null,r.createElement("li",null,"Led schedule recovery efforts, resolving 25+ high-priority conflicts to ensure 100% adherence to daily build schedules.")),r.createElement("hr",{className:"page-content--line-break"}),r.createElement("h3",null,"Industrial Engineer, Constraint-Based Scheduling, Boeing Company, Everett, WA"),r.createElement("h3",null,"June 2010 - June 2014"),r.createElement("ul",null,r.createElement("li",null,"Reduced staffing needs by 20% through algorithmic crew cycling models."),r.createElement("li",null,"Created software for precedence mapping and scheduling, cutting production delays by 25%."),r.createElement("li",null,"Presented at the 2013 ISE Conference, showcasing 15% efficiency gains."))),r.createElement("div",{className:"resume-section"},r.createElement("h2",null,"Key Skills"),r.createElement("ul",null,r.createElement("li",null,r.createElement("strong",null,"Technical Expertise:")," SQL Server, PostgreSQL, Python, MATLAB, JavaScript, HTML/CSS, Simio, ProModel, Tableau, C++, C, VBA, MS Office"),r.createElement("li",null,r.createElement("strong",null,"Process Optimization:")," Discrete event simulation, constraint-based scheduling, data visualization, capacity planning"),r.createElement("li",null,r.createElement("strong",null,"Leadership:")," Cross-functional team collaboration, project management, strategic planning"),r.createElement("li",null,r.createElement("strong",null,"Methodologies:")," Lean, Six Sigma, operations research, industrial engineering principles"))),r.createElement("div",{className:"resume-section"},r.createElement("h2",null,"Awards & Certifications"),r.createElement("ul",null,r.createElement("li",null,"Fundamentals of Engineering (FE) Certification, April 2009"),r.createElement("li",null,"Presented at ISE Conference (2013): Constraint-Based Scheduling in Large-Scale Complex Networks"))))),r.createElement("div",{className:"container__wrapper--narrow"},r.createElement(n.N_,{className:"form__button",to:"/",style:{display:"inline-block",width:"auto",margin:"2rem 0"}},"Collections")))},P=function(){const e=(0,r.useContext)(c),{list:t,loading:a,error:l}=e.historicProducts,{urls:s}=e,[o,i]=(0,r.useState)({}),[m,d]=(0,r.useState)({});if((0,r.useEffect)((()=>{document.title="Historical Works | SPP",window.scrollTo(0,0)}),[]),(0,r.useEffect)((()=>{t&&0!==t.length&&s.api&&(async()=>{const e={},a=t.map((async t=>{if(t.id)try{const a=await fetch(`${s.api}/products/${t.id}/images`);if(a.ok){const r=await a.json();e[t.id]=Array.isArray(r)&&r.length>0?{img_path:r[0].img_path}:{img_path:null}}else e[t.id]={img_path:null}}catch(a){console.error(`Failed to fetch image for historic product ${t.id}`,a),e[t.id]={img_path:null}}}));await Promise.all(a),i(e)})()}),[t,s.api]),a)return r.createElement("div",{className:"container__centering-wrapper"},r.createElement(E,null));if(l)return r.createElement("div",{className:"container__centering-wrapper"},l);if(!t||0===t.length)return r.createElement("div",{className:"container__centering-wrapper"},"No historic items found.");const u=t.length,p={modules:[g.Vx],spaceBetween:10,className:"swiper",navigation:u>1,centeredSlides:u<3,slidesPerView:1,breakpoints:{730:{slidesPerView:Math.min(u,2),spaceBetween:20},1020:{slidesPerView:Math.min(u,3),spaceBetween:30}}};return r.createElement(r.Fragment,null,r.createElement("h1",{className:"container__heading--animated"},"Historical Works"),r.createElement("div",{className:"swiper-container-wrapper"},r.createElement(_.RC,p,t.map((e=>{var t;return r.createElement(_.qr,{key:e.id},r.createElement("div",{className:"swiper-slide__card"},r.createElement("img",{src:null!==(t=o[e.id])&&void 0!==t&&t.img_path?`${s.images}${o[e.id].img_path}`:"/assets/images/default.jpg",alt:e.prod_name||"Historic Product",className:"swiper-slide__image",onError:e=>{e.target.src="/assets/images/default.jpg"}}),r.createElement("div",{className:"swiper-slide__content"},r.createElement("div",{className:"swiper-slide__main-content"},r.createElement("h3",{className:"swiper-slide__title"},e.prod_name||"Untitled"),r.createElement("div",{className:"collapsible-content "+(m[e.id]?"":"is-collapsed")},e.prod_desc&&r.createElement("p",{className:"swiper-slide__description"},e.prod_desc))),e.prod_desc&&r.createElement("div",{className:"swiper-slide__footer swiper-slide__footer--centered"},r.createElement("button",{onClick:()=>{return t=e.id,void d((e=>({...e,[t]:!e[t]})));var t},className:"swiper-slide__about-button"},m[e.id]?"Hide":"About")))))})))),r.createElement("div",{className:"container__wrapper--narrow"},r.createElement(n.N_,{className:"form__button",to:"/about-artist",style:{display:"inline-block",width:"auto",margin:"2rem 0"}},"About The Artist")))},S=function(){(0,r.useEffect)((()=>{document.title="Family Photos | SPP",window.scrollTo(0,0)}),[]);const e=["anne-me-78.png","beer-me-78.png","cousins-landscape.png","darcie-grandpa-landscape.png","darcie-jason-me.png","darcie-jason-me-ranch.png","father-son-landscape.png","football.png","grandma-me-landscape.png","grandpa-peck-78.png","horse-me-landscape.png","me-horse-78.png","mother-father-landscape.png","sister-brother-landscape.png","virgina-me-landscape.png"],t=e.filter((e=>!e.includes("-landscape"))),a=e.filter((e=>e.includes("-landscape")));return r.createElement("div",{className:"image-grid-container"},r.createElement("div",{className:"image-grid image-grid--portrait"},t.map(((e,t)=>r.createElement("div",{key:t,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/family/${e}`,alt:`Family portrait ${t+1}`,className:"image-grid__img"}))))),r.createElement("div",{className:"image-grid image-grid--landscape"},a.map(((e,t)=>r.createElement("div",{key:t,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/family/${e}`,alt:`Family landscape ${t+1}`,className:"image-grid__img"}))))))},k=function(){return(0,r.useEffect)((()=>{document.title="About Raven | SPP",window.scrollTo(0,0)}),[]),r.createElement("div",{className:"image-grid-container"},r.createElement("div",{className:"image-grid image-grid--portrait"},["IMG_2302.JPEG","IMG_3094.JPEG","IMG_4053.JPEG","IMG_5210.JPEG","IMG_5668.JPEG","IMG_2342.JPEG","IMG_3185.JPEG","IMG_4137.JPEG","IMG_5259.JPEG","IMG_5677.JPEG","IMG_2407.JPEG","IMG_3192.JPEG","IMG_4171.JPEG","IMG_5279.JPEG","IMG_5758.JPEG","IMG_2456.JPEG","IMG_3206.JPEG","IMG_4177.JPEG","IMG_5347.JPEG","IMG_5909.JPEG","IMG_2532.JPEG","IMG_3225.JPEG","IMG_4314.JPEG","IMG_5427.JPEG","IMG_5950.JPEG","IMG_2566.JPEG","IMG_3275.JPEG","IMG_4704.JPEG","IMG_5471.JPEG","IMG_6035.JPEG","IMG_2757.JPEG","IMG_3359.JPEG","IMG_4731.JPEG","IMG_5535.JPG","IMG_6151.JPEG","IMG_2954.JPEG","IMG_3384.JPEG","IMG_4787.JPEG","IMG_5536.JPG","IMG_6181.JPEG","IMG_3042.JPEG","IMG_3826.JPEG","IMG_4826.JPEG","IMG_5631.JPEG","IMG_6192.JPEG","IMG_3065.JPEG","IMG_3996.JPEG","IMG_5131.JPEG","IMG_5653.JPEG"].map(((e,t)=>r.createElement("div",{key:t,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/raven/${e}`,alt:`Raven photo ${t+1}`,className:"image-grid__img"}))))))},I=function(){(0,r.useEffect)((()=>{document.title="Family Photos | SPP",window.scrollTo(0,0)}),[]);const e=["09282018_ALineTombstone_EMU_189-landscape.jpg","634AD0F8-40A7-4EDB-825A-1FB75D7AE09F-landscape.jpg","6FFA0D56-9BFE-408D-AFF5-C78C432250A4.jpg","80954878-DSC09579-181-landscape.jpg","80958741-GRT-Zuest-FRI-1205-landscape.jpg","846C3046-9CCF-43A0-A100-B350478EFB5C.jpg","envictus-Zach.jpg","FullSizeRender.jpg","IMG_0324.jpg","IMG_0525.jpg","IMG_0526.jpg","IMG_1113.jpg","IMG_1403.JPEG","IMG_1408.JPEG","IMG_1411.JPEG","IMG_3510.jpg","IMG_3527.jpg","IMG_4862-landscape.jpg","IMG_5083.jpg","IMG_8793.jpg","IMG_9071-landscape.jpg","IMG_9673-landscape.jpg","IMG_9873-landscape.jpg","karenBham-landscape.jpg","OldPueblo-landscape.jpeg","OldPuebloYellow-landscape.jpg","TrueGrit-landscape.jpg"],t=e.filter((e=>!e.includes("-landscape"))),a=e.filter((e=>e.includes("-landscape")));return r.createElement("div",{className:"image-grid-container"},r.createElement("div",{className:"image-grid image-grid--portrait"},t.map(((e,t)=>r.createElement("div",{key:t,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/mtb/${e}`,alt:`Family portrait ${t+1}`,className:"image-grid__img"}))))),r.createElement("div",{className:"image-grid image-grid--landscape"},a.map(((e,t)=>r.createElement("div",{key:t,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/mtb/${e}`,alt:`Family landscape ${t+1}`,className:"image-grid__img"}))))))},x=function(e){return r.createElement(w,{title:"Terms and Conditions"},r.createElement("div",{className:"wrapper wrapper--dark wrapper--center"},r.createElement("h1",null,"Terms and Conditions"),r.createElement("p",{className:"lead text-muted"},"Last updated: July-",(new Date).getFullYear()),r.createElement("p",null,"Welcome to Sherman Peck Productions. By accessing our website, you agree to comply with and be bound by the following terms and conditions:"),r.createElement("ul",null,r.createElement("li",null,"Use of this site is at your own risk."),r.createElement("li",null,"All content provided on this site is for informational purposes only."),r.createElement("li",null,"We reserve the right to modify these terms at any time.")),r.createElement("p",null,"If you have any questions about these terms, please contact us.")))},M=o.A.create({baseURL:d});M.interceptors.request.use((e=>{const t=localStorage.getItem("SPPtoken");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),M.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&"Token expired"===e.response.data.error&&(console.log("Axios Interceptor: Detected expired token. Forcing logout."),localStorage.removeItem("SPPtoken"),localStorage.removeItem("SPPusername"),localStorage.removeItem("SPPavatar"),localStorage.removeItem("SPPbio"),localStorage.removeItem("SPPadmin"),localStorage.removeItem("SPPuser_id"),window.location.href="/?session_expired=true"),Promise.reject(e))));const A=e=>M.get(`/categories/${e}`),$=(e,t="current")=>M.get(`/products/category/${e}?filter=${t}`),F=e=>M.get(`/products/${e}`),G=e=>M.get(`/orders/${e}`),q=function(){const e=(0,r.useContext)(i),[t,a]=(0,r.useState)(""),l=(0,n.Zp)();return r.createElement(w,{title:"Request Password Reset"},r.createElement("form",{onSubmit:async function(a){a.preventDefault();try{await(e=>M.post("/users/request-password-reset",{email:e}))(t),e({type:"flashMessage",value:"Password reset token sent. Please check your email inbox."}),l("/reset-password")}catch(a){console.error("Error requesting password reset:",a),e({type:"flashMessage",value:a.response?a.response.data.error:"Error making the request. Please try again."})}},className:"form"},r.createElement("h2",{className:"form__heading"},"Reset Your Password"),r.createElement("p",{className:"form__helper-text",style:{textAlign:"center",marginBottom:"1.5rem"}},"Enter your email address and we will send you a link to reset your password."),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"email-reset",className:"form__label"},"Email Address"),r.createElement("input",{value:t,onChange:e=>a(e.target.value),id:"email-reset",name:"email",className:"form__input",type:"email",placeholder:"you@example.com",autoComplete:"email",required:!0})),r.createElement("button",{type:"submit",className:"form__button"},"Send Reset Link")))},D=function(){const[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[c]=(0,n.ok)(),i=(0,n.Zp)();return(0,r.useEffect)((()=>{const e=c.get("token");e&&t(e)}),[c]),r.createElement(w,{title:"Reset Password"},r.createElement("form",{onSubmit:async function(t){if(t.preventDefault(),e&&a)try{const t=await((e,t)=>M.post("/users/reset-password",{token:e,newPassword:t}))(e,a);o(t.data.message),setTimeout((()=>i("/")),2e3)}catch(t){console.error("Error resetting password:",t),o(t.response?t.response.data.error:"Error resetting password")}else o("Token and new password are required.")},className:"form"},r.createElement("h2",{className:"form__heading"},"Reset Your Password"),r.createElement("p",{className:"form__helper-text",style:{textAlign:"center",marginBottom:"1.5rem"}},"Please enter your new password below."),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"token-field",className:"form__label"},"Reset Token"," ",r.createElement("span",{className:"form__helper-text--info"},"(From Email)")),r.createElement("input",{value:e,onChange:e=>t(e.target.value),id:"token-field",className:"form__input",type:"text",placeholder:"Paste token here"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"new-password",className:"form__label"},"New Password"),r.createElement("input",{value:a,onChange:e=>l(e.target.value),id:"new-password",className:"form__input",type:"password",placeholder:"Enter new password",required:!0})),r.createElement("button",{type:"submit",className:"form__button"},"Reset Password"),s&&r.createElement("p",{className:"form__success-message"},s)))},T=function(e){return(0,r.useEffect)((()=>{if(e.dispatch&&!e.isValidationMessage&&e.messages.length>0){const t=setTimeout((()=>{e.dispatch({type:"clearFlashMessages"})}),3e3);return()=>clearTimeout(t)}}),[e.messages,e.dispatch,e.isValidationMessage]),0===e.messages.length?null:r.createElement("div",{className:"flash-messages"},r.createElement("div",{className:"flash-messages__alert-container"},e.messages.map(((t,a)=>{const l=e.isValidationMessage?"flash-messages__alert--danger":"flash-messages__alert--success";return r.createElement("div",{key:a,className:`flash-messages__alert ${l} flash-messages__alert--floating`},t)}))))},U=function(){const e=(0,r.useContext)(i),t=(0,n.Zp)(),[a,l]=(0,s.A)((function(e,t){switch(t.type){case"usernameImmediately":return e.username.value=t.value,e.username.value.length>30?(e.username.hasErrors=!0,void(e.username.message="Username cannot exceed 30 characters.")):e.username.value&&!/^[a-zA-Z0-9]+$/.test(e.username.value)?(e.username.hasErrors=!0,void(e.username.message="Username can only contain letters and numbers.")):void(e.username.hasErrors=!1);case"usernameAfterDelay":return t.value.length<3&&(e.username.hasErrors=!0,e.username.message="Username must be at least 3 characters."),void(e.username.hasErrors||t.noRequest||e.username.checkCount++);case"usernameUniqueResults":return void(t.value?(e.username.hasErrors=!0,e.username.isUnique=!1,e.username.message="That username is already taken."):e.username.isUnique=!0);case"emailImmediately":return e.email.value=t.value,void(e.email.hasErrors=!1);case"emailAfterDelay":return/^\S+@\S+$/.test(t.value)||(e.email.hasErrors=!0,e.email.message="You must provide a valid email address."),void(e.email.hasErrors||t.noRequest||e.email.checkCount++);case"emailUniqueResults":return void(t.value?(e.email.hasErrors=!0,e.email.isUnique=!1,e.email.message="That email is already being used."):e.email.isUnique=!0);case"passwordImmediately":return e.password.value=t.value,e.password.value.length>50?(e.password.hasErrors=!0,void(e.password.message="Password cannot exceed 50 characters.")):void(e.password.hasErrors=!1);case"passwordAfterDelay":return void(t.value.length<12&&(e.password.hasErrors=!0,e.password.message="Password must be at least 12 characters."));case"submitForm":return void(e.username.hasErrors||!e.username.isUnique||e.email.hasErrors||!e.email.isUnique||e.password.hasErrors||e.submitCount++)}}),{username:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},email:{value:"",hasErrors:!1,message:"",isUnique:!1,checkCount:0},password:{value:"",hasErrors:!1,message:""},submitCount:0});(0,r.useEffect)((()=>{if(a.username.value){const e=setTimeout((()=>l({type:"usernameAfterDelay",value:a.username.value})),800);return()=>clearTimeout(e)}}),[a.username.value]),(0,r.useEffect)((()=>{if(a.email.value){const e=setTimeout((()=>l({type:"emailAfterDelay",value:a.email.value})),800);return()=>clearTimeout(e)}}),[a.email.value]),(0,r.useEffect)((()=>{if(a.password.value){const e=setTimeout((()=>l({type:"passwordAfterDelay",value:a.password.value})),800);return()=>clearTimeout(e)}}),[a.password.value]),(0,r.useEffect)((()=>{if(a.username.checkCount){let e=!1;return(async()=>{try{const r=await(t=a.username.value,M.post("/users/checkRegUsername",{username:t}));e||l({type:"usernameUniqueResults",value:r.data})}catch(t){e||console.log("There was a problem checking the username.")}var t})(),()=>e=!0}}),[a.username.checkCount]),(0,r.useEffect)((()=>{if(a.email.checkCount){let e=!1;return(async()=>{try{const r=await(t=a.email.value,M.post("/users/checkRegEmail",{email:t}));e||l({type:"emailUniqueResults",value:r.data})}catch(t){e||console.log("There was a problem checking the email.")}var t})(),()=>e=!0}}),[a.email.checkCount]),(0,r.useEffect)((()=>{if(a.submitCount){let r=!1;return(async()=>{try{const n=await(l={username:a.username.value,email:a.email.value,password:a.password.value},M.post("/users",l));r||(e({type:"logIn",data:n.data}),e({type:"flashMessage",value:"Congrats! Welcome to your new account."}),t("/home"))}catch(t){r||e({type:"flashMessage",value:"Registration failed. Please try again."})}var l})(),()=>r=!0}}),[a.submitCount,e,t]);const o=[];return a.username.hasErrors&&o.push(a.username.message),a.email.hasErrors&&o.push(a.email.message),a.password.hasErrors&&o.push(a.password.message),r.createElement(w,{title:"Register"},r.createElement("div",{className:"form"},r.createElement(T,{messages:o,isValidationMessage:!0}),r.createElement("form",{onSubmit:function(e){e.preventDefault(),l({type:"usernameImmediately",value:a.username.value}),l({type:"usernameAfterDelay",value:a.username.value,noRequest:!0}),l({type:"emailImmediately",value:a.email.value}),l({type:"emailAfterDelay",value:a.email.value,noRequest:!0}),l({type:"passwordImmediately",value:a.password.value}),l({type:"passwordAfterDelay",value:a.password.value}),l({type:"submitForm"})}},r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"username-register",className:"form__label"},r.createElement("small",null,"Username")),r.createElement("input",{onChange:e=>l({type:"usernameImmediately",value:e.target.value}),id:"username-register",name:"username",className:"form__input",type:"text",placeholder:"Pick a username",autoComplete:"off"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"email-register",className:"form__label"},r.createElement("small",null,"Email")),r.createElement("input",{onChange:e=>l({type:"emailImmediately",value:e.target.value}),id:"email-register",name:"email",className:"form__input",type:"text",placeholder:"you@example.com",autoComplete:"off"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"password-register",className:"form__label"},r.createElement("small",null,"Password")),r.createElement("input",{onChange:e=>l({type:"passwordImmediately",value:e.target.value}),id:"password-register",name:"password",className:"form__input",type:"password",placeholder:"Create a password"})),r.createElement("button",{type:"submit",className:"form__button"},"Sign up")),r.createElement("div",{className:"form__footer"},r.createElement(n.N_,{to:"/request-password-reset",className:"form__footer-link"},"Forgot Password?"))))},B=function(){return r.createElement("div",{className:"page-section page-section--background"},r.createElement("div",{className:"wrapper"},r.createElement("div",{className:"dashboard"},r.createElement("h2",{className:"dashboard__heading"},"Admin Dashboard"),r.createElement("div",{className:"dashboard__row"},r.createElement("div",{className:"dashboard__col"},r.createElement(n.N_,{to:"/admin-category-post",className:"dashboard__button"},"Add Category")),r.createElement("div",{className:"dashboard__col"},r.createElement(n.N_,{to:"/admin-category-put-select",className:"dashboard__button"},"Lookup Categories to Edit")),r.createElement("div",{className:"dashboard__col"},r.createElement(n.N_,{to:"/admin-order",className:"dashboard__button"},"Manage Orders"))))))},L=function(){const[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),m=(0,n.Zp)(),d=(0,r.useContext)(c),u=(0,r.useContext)(i),[p,_]=(0,r.useState)(!1);return d.user.admin?r.createElement(w,{title:"Add New Category"},r.createElement("form",{onSubmit:async function(t){t.preventDefault(),_(!0);try{const t=await(l={cat_name:e,cat_desc:a,cat_vid:s||null},M.post("/categories",l));console.log("Create category response:",t.data),u({type:"addCategory",data:t.data}),u({type:"flashMessage",value:"Category added successfully!"}),m("/admin-dashboard")}catch(t){var r;u({type:"flashMessage",value:t.response?t.response.data.error:"Error adding category"}),console.error("Error adding category:",(null===(r=t.response)||void 0===r?void 0:r.data)||t.message)}finally{_(!1)}var l},className:"form"},r.createElement("h2",{className:"form__heading"},"Add New Category"),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat-name",className:"form__label"},"Category Name"),r.createElement("input",{value:e,onChange:e=>t(e.target.value),id:"cat-name",className:"form__input",type:"text",placeholder:"Enter category name",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat-desc",className:"form__label"},"Description"),r.createElement("input",{value:a,onChange:e=>l(e.target.value),id:"cat-desc",className:"form__input",type:"text",placeholder:"Enter description",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat-vid",className:"form__label"},"Video Link"),r.createElement("input",{value:s,onChange:e=>o(e.target.value),id:"cat-vid",className:"form__input",type:"url",placeholder:"Enter video URL (optional)"})),r.createElement("button",{type:"submit",className:"form__button",disabled:p},p?"Adding...":"Add Category"),r.createElement(n.N_,{to:"/admin-dashboard",className:"form__button",style:{marginTop:"0.5rem",backgroundColor:"#6c757d",borderColor:"#6c757d"}},"Back to Dashboard"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission to perform this action."))},J=function(){const e=(0,r.useContext)(c),t=(0,r.useContext)(i),{categories:a,user:l,urls:s}=e,[o,m]=(0,r.useState)(null),d=e=>{console.log("Selecting category:",e),t({type:"selectCategory",data:e})};return l.admin?a.loading?r.createElement(w,{title:"Loading..."},r.createElement(LoadingDotsIcon,null)):a.error?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-danger"},a.error)):a.list&&0!==a.list.length?r.createElement(w,{title:"Manage Categories"},r.createElement("div",{className:"page-section"},r.createElement("div",{className:"table-select"},r.createElement("div",{className:"table-select__section-heading"},r.createElement("h1",null,"Categories"),r.createElement(n.N_,{to:"/admin-category-post",className:"table-select__button table-select__button--success"},"Add Category")),r.createElement("table",{className:"table-select__table"},r.createElement("thead",{className:"table-select__heading"},r.createElement("tr",null,r.createElement("th",null,"Category Name"),r.createElement("th",null,"Product Count"),r.createElement("th",null,"Image"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,a.list.map((e=>r.createElement("tr",{key:e.cat_id},r.createElement("td",null,e.cat_name||"Unknown"),r.createElement("td",null,e.prod_count||0),r.createElement("td",null,e.cat_img_path&&r.createElement("img",{src:`${s.images}${e.cat_img_path}`,alt:`Thumbnail for ${e.cat_name||"category"}`,className:"table-select__thumbnail"})),r.createElement("td",null,r.createElement(n.N_,{to:`/admin-category-put/${e.cat_id}`,className:"table-select__button",onClick:()=>d(e)},"Edit"),0===(e.prod_count||0)&&r.createElement("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this category? This action cannot be undone.")){m(e);try{await(l=e,M.delete(`/categories/${l}`)),t({type:"deleteCategory",data:e}),t({type:"flashMessage",value:"Category deleted successfully!"})}catch(e){var a,r;console.error("Delete category error:",(null===(a=e.response)||void 0===a?void 0:a.data)||e.message),t({type:"flashMessage",value:(null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Error deleting category"})}finally{m(null)}}var l})(e.cat_id),className:"table-select__button table-select__button--danger",disabled:o===e.cat_id},o===e.cat_id?"Deleting...":"Delete"),r.createElement(n.N_,{to:`/admin-product-put-select/${e.cat_id}`,className:"table-select__button",onClick:()=>d(e)},"Products"),r.createElement(n.N_,{to:`/admin-category-image-post/${e.cat_id}`,className:"table-select__button",onClick:()=>d(e)},"Upload Img"))))))),r.createElement(n.N_,{to:"/admin-dashboard",className:"form__button form__button--secondary"},"Back to Dashboard")))):r.createElement(w,{title:"Manage Categories"},r.createElement("div",{className:"table-select"},r.createElement("div",{className:"table-select__section-heading"},r.createElement("h1",null,"Categories"),r.createElement(n.N_,{to:"/admin-category-post",className:"table-select__button table-select__button--success"},"Add Category")),r.createElement("p",null,"No categories available. Please add one."),r.createElement(n.N_,{to:"/admin-dashboard",className:"form__button form__button--secondary"},"Back to Dashboard"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission to perform this action."))},O=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),a=(0,r.useContext)(c),l=(0,r.useContext)(i),[s,o]=(0,r.useState)(null),[m,d]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[_,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{try{const t=await A(e);console.log("Fetched category:",t.data),o(t.data)}catch(e){console.error("Error fetching category details:",e),p("Could not load category information.")}d(!1)})()}),[e]);const f=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return a.user.admin?m?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):u?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},u)):r.createElement(w,{title:`Edit Category: ${null==s?void 0:s.cat_name}`},r.createElement("form",{onSubmit:async a=>{a.preventDefault(),g(!0);try{const a=await(n=e,o={cat_name:s.cat_name,cat_desc:s.cat_desc,cat_vid:s.cat_vid||null},M.put(`/categories/${n}`,o));console.log("Update response:",a.data),l({type:"updateCategory",data:a.data}),l({type:"flashMessage",value:"Category updated successfully!"}),t("/admin-dashboard")}catch(a){var r;l({type:"flashMessage",value:(null===(r=a.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Error updating category"})}finally{g(!1)}var n,o},className:"form"},r.createElement("div",{className:"form__heading",style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("h2",null,"Edit Category"),r.createElement(n.N_,{to:`/admin-product-put-select/${e}`,className:"form__button",style:{marginTop:0,padding:"0.5rem 1rem"}},"Manage Products")),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat_name",className:"form__label"},"Category Name"),r.createElement("input",{type:"text",name:"cat_name",value:s.cat_name,onChange:f,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat_desc",className:"form__label"},"Description"),r.createElement("input",{type:"text",name:"cat_desc",value:s.cat_desc,onChange:f,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"cat_vid",className:"form__label"},"Video Link"),r.createElement("input",{type:"url",name:"cat_vid",value:s.cat_vid||"",onChange:f,className:"form__input"})),r.createElement("button",{type:"submit",className:"form__button",disabled:_},_?"Saving...":"Update Category"),r.createElement(n.N_,{to:"/admin-dashboard",className:"form__button form__button--secondary"},"Back to Dashboard"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},R=function(){const{id:e}=(0,n.g)(),{user:t}=(0,r.useContext)(c),a=(0,r.useContext)(i),[l,s]=(0,r.useState)(null),[o,m]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[p,_]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[h,v]=(0,r.useState)("current");(0,r.useEffect)((()=>{u(!0),(async()=>{try{const[t,r]=await Promise.all([A(e),$(e,h)]);s(t.data),m(r.data),a({type:"selectCategory",data:t.data}),a({type:"setProducts",data:r.data})}catch(e){console.error("Fetch error:",e),_("Could not load data for this category.")}u(!1)})()}),[e,a,h]);return t.admin?d?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):p?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},p)):r.createElement(w,{title:`Manage Products in ${(null==l?void 0:l.cat_name)||"Category"}`},r.createElement("div",{className:"table-select"},r.createElement("div",{className:"table-select__section-heading"},r.createElement("h1",null,"Products in: ",l?l.cat_name:"..."),r.createElement("div",{className:"table-select__actions"},r.createElement("div",{className:"form__group"},r.createElement("select",{value:h,onChange:e=>{v(e.target.value)},className:"form__input form__input--select","aria-label":"Filter products"},r.createElement("option",{value:"current"},"Show Current"),r.createElement("option",{value:"historic"},"Show Historic"),r.createElement("option",{value:"all"},"Show All"))),r.createElement(n.N_,{to:`/admin-product-post/${e}`,className:"table-select__button table-select__button--success"},"Add Product"))),0===o.length?r.createElement("p",{className:"text-center"},"No products match the current filter in this category."):r.createElement("table",{className:"table-select__table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Product Name"),r.createElement("th",null,"Price"),r.createElement("th",null,"Image Count"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,o.map((t=>r.createElement("tr",{key:t.id},r.createElement("td",null,t.prod_name),r.createElement("td",null,"$",t.prod_cost||"0.00"),r.createElement("td",null,t.img_count||0),r.createElement("td",null,r.createElement(n.N_,{to:`/admin-product-put/${t.id}`,className:"table-select__button"},"Edit"),0===(parseInt(t.img_count)||0)&&r.createElement("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this product?")){f(t);try{await(e=>M.delete(`/products/${e}`))(t),m((e=>e.filter((e=>e.id!==t)))),a({type:"decrementProdCount",data:parseInt(e)}),a({type:"flashMessage",value:"Product deleted successfully!"})}catch(e){var r;a({type:"flashMessage",value:(null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Error deleting product"})}finally{f(null)}}})(t.id),className:"table-select__button table-select__button--danger",disabled:g===t.id},g===t.id?"...":"Delete"),r.createElement(n.N_,{to:`/admin-product-image-put-select/${t.id}`,className:"table-select__button"},"Manage Images"))))))),r.createElement(n.N_,{to:"/admin-category-put-select",className:"form__button form__button--secondary"},"Back to Categories"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},j=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),{user:a}=(0,r.useContext)(c),l=(0,r.useContext)(i),[s,o]=(0,r.useState)({prod_name:"",prod_desc:"",prod_cost:"",cat_fk:e||""}),[m,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(!0),[_,g]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const t=await A(e);d(t.data.cat_name||"Unknown Category")}catch(e){h("Error fetching category details.")}p(!1)})()}),[e]);const v=e=>{const{name:t,value:a}=e.target;o((e=>({...e,[t]:a})))};return a.admin?u?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):f?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},f)):r.createElement(w,{title:`Add Product to ${m}`},r.createElement("form",{onSubmit:async a=>{a.preventDefault(),g(!0);try{await(n=s,M.post("/products",n)),l({type:"incrementProdCount",data:parseInt(e)}),l({type:"flashMessage",value:"Product added successfully!"}),t(`/admin-product-put-select/${e}`)}catch(a){var r;l({type:"flashMessage",value:(null===(r=a.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Error adding product"})}finally{g(!1)}var n},className:"form"},r.createElement("h2",{className:"form__heading"},"Add Product to ",m),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"prod_name",className:"form__label"},"Product Name"),r.createElement("input",{type:"text",name:"prod_name",value:s.prod_name,onChange:v,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"prod_desc",className:"form__label"},"Description"),r.createElement("input",{type:"text",name:"prod_desc",value:s.prod_desc,onChange:v,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"prod_cost",className:"form__label"},"Cost"),r.createElement("input",{type:"number",name:"prod_cost",value:s.prod_cost,onChange:v,className:"form__input",step:"0.01",required:!0})),r.createElement("button",{type:"submit",className:"form__button",disabled:_},_?"Adding...":"Add Product"),r.createElement("button",{type:"button",className:"form__button form__button--secondary",onClick:()=>{t(`/admin-product-put-select/${e}`)}},"Cancel"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},z=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),{user:a}=(0,r.useContext)(c),l=(0,r.useContext)(i),[s,o]=(0,r.useState)(null),[m,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(!0),[_,g]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const t=(await F(e)).data;if(o(t),t.cat_fk){const e=await A(t.cat_fk);d(e.data.cat_name||"Unknown Category")}}catch(e){console.error("Error fetching data:",e),h("Could not load product data.")}p(!1)})()}),[e]);const v=e=>{const{name:t,value:a,type:r,checked:l}=e.target,n="checkbox"===r?l:a;o((e=>({...e,[t]:n})))};return a.admin?u?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):f||!s?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},f||"Product not found.")):r.createElement(w,{title:`Edit Product: ${s.prod_name}`},r.createElement("form",{onSubmit:async a=>{a.preventDefault(),g(!0);try{await(n=e,o={prod_name:s.prod_name,prod_desc:s.prod_desc,prod_cost:s.prod_cost,cat_fk:s.cat_fk,historic:s.historic},M.put(`/products/${n}`,o)),l({type:"flashMessage",value:"Product updated successfully!"}),t(`/admin-product-put-select/${s.cat_fk}`)}catch(a){var r;l({type:"flashMessage",value:(null===(r=a.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.error)||"Error updating product"})}finally{g(!1)}var n,o},className:"form"},r.createElement("h2",{className:"form__heading"},"Edit Product in ",m),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"prod_name"},"Product Name"),r.createElement("input",{type:"text",id:"prod_name",name:"prod_name",value:s.prod_name,onChange:v,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"prod_desc"},"Description"),r.createElement("input",{type:"text",id:"prod_desc",name:"prod_desc",value:s.prod_desc||"",onChange:v,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"prod_cost"},"Cost"),r.createElement("input",{type:"number",id:"prod_cost",name:"prod_cost",value:s.prod_cost,onChange:v,className:"form__input",step:"0.01",required:!0})),r.createElement("div",{className:"form__group form__group--checkbox"},r.createElement("input",{type:"checkbox",name:"historic",id:"historic",checked:!!s.historic,onChange:v,className:"form__input--checkbox"}),r.createElement("label",{className:"form__label--checkbox",htmlFor:"historic"},"Mark as Historic (will be hidden from public category view)")),r.createElement("button",{type:"submit",className:"form__button",disabled:_},_?"Saving...":"Update Product"),r.createElement("button",{type:"button",className:"form__button form__button--secondary",onClick:()=>{t(`/admin-product-put-select/${s.cat_fk}`)}},"Cancel"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))};var Y=a(472);const V=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),a=(0,n.zy)(),{user:l}=(0,r.useContext)(c),s=(0,r.useContext)(i),[o,m]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[p,_]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[h,v]=(0,r.useState)(!1),b=(0,r.useRef)(null);return(0,r.useEffect)((()=>{(async()=>{try{const t=await F(e);_(t.data)}catch(e){s({type:"flashMessage",value:"Error fetching product details."})}u(!1)})()}),[e,s]),l.admin?d?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):r.createElement(w,{title:`Add Images to ${(null==p?void 0:p.prod_name)||"Product"}`},r.createElement("form",{onSubmit:async r=>{if(r.preventDefault(),0===o.length||g)return void f("Please select valid image(s) to upload.");v(!0);const l=new FormData;o.forEach((e=>l.append("image",e)));try{var n;const r=await((e,t)=>M.post(`/images/product/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}))(e,l);s({type:"incrementImgCount",data:{productId:parseInt(e),count:r.data.count||o.length}}),s({type:"flashMessage",value:"Images added successfully!"});const c=(null==p?void 0:p.cat_fk)||(null===(n=a.state)||void 0===n?void 0:n.categoryId);t(c?`/admin-product-put-select/${c}`:"/admin-dashboard")}catch(r){var c;s({type:"flashMessage",value:(null===(c=r.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.error)||"Error adding images"})}finally{v(!1)}},className:"form"},r.createElement("h2",{className:"form__heading"},"Add Images to ",(null==p?void 0:p.prod_name)||"..."),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"images",className:"form__label"},"Product Images"),r.createElement("input",{type:"file",name:"images",onChange:e=>{const t=Array.from(e.target.files);if(0===t.length)return f("Please select at least one image."),void setImage([]);const a=["image/jpeg","image/png","image/gif"];for(const e of t){if(!a.includes(e.type))return f("All images must be a JPEG, PNG, or GIF."),void m([]);if(e.size>5242880)return f("All images must be less than 5MB."),void m([])}f(null),m(t)},className:"form__input",id:"images",multiple:!0,accept:"image/jpeg,image/png,image/gif"}),r.createElement("small",{className:"form__helper-text"},"Select one or more images (JPEG, PNG, GIF, max 5MB each)"),r.createElement(Y.A,{nodeRef:b,in:!!g,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{ref:b,className:"form__validation-message"},g))),r.createElement("div",{className:"form__group"},r.createElement("button",{type:"submit",className:"form__button",disabled:!!g||0===o.length||h},h?"Uploading...":"Add Images"),r.createElement("button",{type:"button",className:"form__button form__button--secondary",onClick:()=>{var e;const r=(null==p?void 0:p.cat_fk)||(null===(e=a.state)||void 0===e?void 0:e.categoryId);t(r?`/admin-product-put-select/${r}`:"/admin-dashboard")}},"Cancel")))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},H=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),a=(0,n.zy)(),l=(0,r.useContext)(c),s=(0,r.useContext)(i),[o,m]=(0,r.useState)(null),[d,u]=(0,r.useState)(!0),[p,_]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const a=await(t=e,M.get(`/images/${t}`));m(a.data)}catch(e){f("Could not load image details.")}var t;u(!1)})()}),[e]);const h=e=>{const{name:t,value:a}=e.target;m((e=>({...e,[t]:a})))};return l.user.admin?d?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):g||!o?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},g||"Image not found.")):r.createElement(w,{title:"Edit Image Metadata"},r.createElement("form",{onSubmit:async r=>{r.preventDefault(),_(!0);const l={img_desc:o.img_desc,img_order:parseInt(o.img_order)||0,img_media:parseInt(o.img_media)||0};try{var n;await(i=e,m=l,M.put(`/images/${i}`,m)),s({type:"flashMessage",value:"Image metadata updated successfully!"});const r=null===(n=a.state)||void 0===n?void 0:n.productId;t(r?`/admin-product-image-put-select/${r}`:"/admin-dashboard")}catch(r){var c;s({type:"flashMessage",value:(null===(c=r.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.error)||"Error updating image"})}finally{_(!1)}var i,m},className:"form"},r.createElement("h2",{className:"form__heading"},"Editing Image"),o.img_path&&r.createElement("div",{className:"form__group text-center"},r.createElement("img",{src:`${l.urls.images}${o.img_path}`,alt:o.img_desc||"Image preview",style:{maxWidth:"300px",maxHeight:"300px",objectFit:"contain",margin:"0 auto",borderRadius:"4px"}}),r.createElement("small",{className:"form__helper-text"},o.img_path)),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"img_desc"},"Image Description"),r.createElement("input",{type:"text",name:"img_desc",value:o.img_desc,onChange:h,className:"form__input",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"img_order"},"Display Order"),r.createElement("input",{type:"number",name:"img_order",value:o.img_order,onChange:h,className:"form__input",min:"0",required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{className:"form__label",htmlFor:"img_media"},"Media Type"),r.createElement("input",{type:"number",name:"img_media",value:o.img_media,onChange:h,className:"form__input",min:"0",required:!0})),r.createElement("button",{type:"submit",className:"form__button",disabled:p},p?"Saving...":"Update Metadata"),r.createElement("button",{type:"button",className:"form__button form__button--secondary",onClick:()=>{var e;const r=null===(e=a.state)||void 0===e?void 0:e.productId;t(r?`/admin-product-image-put-select/${r}`:"/admin-dashboard")}},"Cancel"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},W=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),{user:a,urls:l}=((0,n.zy)(),(0,r.useContext)(c)),s=(0,r.useContext)(i),[o,m]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),[p,_]=(0,r.useState)(null),[g,f]=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const[a,r]=await Promise.all([F(e),(t=e,M.get(`/images/product/${t}`))]);_(a.data),m(r.data)}catch(e){console.error("Error fetching product data and images:",e),s({type:"flashMessage",value:"Could not load product data."})}var t;u(!1)})()}),[e,s]);return a.admin?d?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):p?r.createElement(w,{title:`Manage Images for ${p.prod_name}`},r.createElement("div",{className:"table-select"},r.createElement("div",{className:"table-select__section-heading"},r.createElement("h1",null,"Images for: ",p.prod_name),r.createElement(n.N_,{to:`/admin-product-image-post/${e}`,state:{categoryId:p.cat_fk},className:"table-select__button table-select__button--success"},"Add New Images")),0===o.length?r.createElement("p",{className:"text-center"},"No images have been uploaded for this product yet."):r.createElement("table",{className:"table-select__table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null,"Thumbnail"),r.createElement("th",null,"Description"),r.createElement("th",null,"Order"),r.createElement("th",null,"Media Type"),r.createElement("th",null,"Actions"))),r.createElement("tbody",null,o.map((a=>r.createElement("tr",{key:a.id},r.createElement("td",null,a.img_path&&r.createElement("img",{src:`${l.images}${a.img_path}`,alt:a.img_desc||"Product image",className:"table-select__thumbnail"})),r.createElement("td",null,a.img_desc||"N/A"),r.createElement("td",null,a.img_order),r.createElement("td",null,a.img_media),r.createElement("td",null,r.createElement("button",{onClick:()=>{return r=a.id,void t(`/admin-product-image-put/${r}`,{state:{productId:e}});var r},className:"table-select__button"},"Edit"),r.createElement("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this image?")){f(t);try{await(e=>M.delete(`/images/${e}`))(t),m((e=>e.filter((e=>e.id!==t)))),s({type:"incrementImgCount",data:{productId:parseInt(e),count:-1}}),s({type:"flashMessage",value:"Image deleted successfully!"})}catch(e){var a;s({type:"flashMessage",value:(null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"Error deleting image"})}finally{f(null)}}})(a.id),className:"table-select__button table-select__button--danger",disabled:g===a.id},g===a.id?"...":"Delete"))))))),r.createElement(n.N_,{to:`/admin-product-put-select/${p.cat_fk}`,className:"form__button form__button--secondary"},"Back to Product List"))):r.createElement(w,{title:"Not Found"},r.createElement("div",{className:"text-center"},r.createElement("p",{className:"text-danger"},"Product not found."),r.createElement(n.N_,{to:"/admin-dashboard",className:"form__button form__button--secondary"},"Back to Dashboard"))):r.createElement(w,{title:"Unauthorized"},r.createElement("p",{className:"text-center text-danger"},"You do not have permission."))},Z=function(){const{id:e}=(0,n.g)(),t=(0,n.Zp)(),a=(0,r.useContext)(i),[l,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),m=(0,r.useRef)(null);return r.createElement("div",{className:"wrapper"},r.createElement("form",{onSubmit:async r=>{if(r.preventDefault(),!l)return void c("Please select an image to upload.");const n=new FormData;n.append("image",l);try{const r=await((e,t)=>M.put(`/images/category/${e}`,t,{headers:{"Content-Type":"multipart/form-data"}}))(e,n);a({type:"updateCategory",data:{cat_id:parseInt(e),cat_img_path:r.data.cat_img_path}}),a({type:"flashMessage",value:"Category image updated successfully!"}),t("/admin-dashboard")}catch(r){var s,o;console.error("Image upload error:",(null===(s=r.response)||void 0===s?void 0:s.data)||r.message),a({type:"flashMessage",value:(null===(o=r.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Error updating image"})}},className:"form"},r.createElement("h2",{className:"form__heading"},"Update Category Image"),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"image",className:"form__label"},"Category Image File"),r.createElement("input",{type:"file",name:"image",onChange:e=>{const t=e.target.files[0];if(!t)return c("Please select an image."),void s(null);["image/jpeg","image/png","image/gif"].includes(t.type)?t.size>5242880?(c("Image must be less than 5MB."),s(null)):(c(null),s(t)):(c("Image must be a JPEG, PNG, or GIF."),s(null))},className:"form__input",id:"image",accept:"image/jpeg,image/png,image/gif"}),r.createElement("small",{className:"form__helper-text"},"Select one image (JPEG, PNG, GIF, max 5MB)"),r.createElement(Y.A,{nodeRef:m,in:!!o,timeout:330,classNames:"liveValidateMessage",unmountOnExit:!0},r.createElement("div",{ref:m,className:"form__validation-message"},o))),r.createElement("div",{className:"form__group"},r.createElement("button",{type:"submit",className:"form__button",disabled:!!o||!l},"Update Image"),r.createElement("button",{type:"button",className:"form__button",style:{marginTop:"0.5rem",backgroundColor:"#6c757d"},onClick:()=>{t("/admin-dashboard")}},"Cancel"))))},Q=function({order:e,onAdminUpdate:t}){var a,l,n;const{urls:s}=(0,r.useContext)(c),o=e=>`order-card__status--${{pending_payment:"pending_payment",unfulfilled:"unfulfilled",processing:"processing",shipped:"shipped",delivered:"delivered",completed:"completed",cancelled:"cancelled",succeeded:"succeeded",failed:"failed",declined:"declined"}[e?e.trim():""]||"default"}`,i=(()=>{if(!e.payments||0===e.payments.length)return{text:"Awaiting Payment",class:o("pending_payment")};const t=e.payments.sort(((e,t)=>new Date(t.payment_date)-new Date(e.payment_date)))[0];return{text:t.payment_status?t.payment_status.trim():"Unknown",class:o(t.payment_status)}})(),m=((e,t)=>{if(!e||!t)return null;switch(e.trim().toLowerCase()){case"usps":return`https://tools.usps.com/go/TrackConfirmAction?qtc_tLabels1=${t}`;case"ups":return`https://www.ups.com/track?tracknum=${t}`;case"fedex":return`https://www.fedex.com/apps/fedextrack/?tracknumbers=${t}`;case"dhl":return`https://www.dhl.com/en/express/tracking.html?AWB=${t}`;default:return`https://www.google.com/search?q=${e}+${t}+tracking`}})(null===(a=e.fulfillment)||void 0===a?void 0:a.shipping_provider,null===(l=e.fulfillment)||void 0===l?void 0:l.tracking_number);return r.createElement("div",{className:"order-card admin-order-card"},e.username&&r.createElement("div",{className:"admin-order-card__customer-header"},r.createElement("p",{className:"admin-order-card__customer-text"},r.createElement("strong",null,"Customer:")," ",e.username," (User ID:"," ",e.user_id,")")),r.createElement("div",{className:"order-card__header"},r.createElement("div",null,r.createElement("h5",{className:"order-card__id"},"Order #",e.order_id),r.createElement("p",{className:"order-card__date"},"Placed on: ",new Date(e.created_at).toLocaleDateString())),r.createElement("span",{className:`order-card__status ${o(e.order_status)}`},null===(n=e.order_status)||void 0===n?void 0:n.trim().replace("_"," "))),r.createElement("div",{className:"order-card__body"},e.items.map((e=>r.createElement("div",{key:e.order_item_id,className:"order-card__item"},r.createElement("img",{src:s.images+e.product_image_path,alt:e.prod_name,className:"order-card__item-image"}),r.createElement("div",{className:"order-card__item-details"},r.createElement("h6",{className:"order-card__item-name"},e.prod_name),r.createElement("p",{className:"order-card__item-info"},"Quantity: ",e.quantity," × $",parseFloat(e.price_at_purchase).toFixed(2)))))),r.createElement("hr",{className:"order-card__divider"}),r.createElement("div",{className:"order-card__details-section"},r.createElement("div",{className:"order-card__shipping"},r.createElement("h6",{className:"order-card__subheading"},"Shipping Details"),e.fulfillment?r.createElement(r.Fragment,null,r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_address_line1),e.fulfillment.shipping_address_line2&&r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_address_line2),r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_city,","," ",e.fulfillment.shipping_state," ",e.fulfillment.shipping_postal_code),r.createElement("p",{className:"order-card__detail-text"},"Status:"," ",r.createElement("span",{className:`order-card__status ${o(e.fulfillment.fulfillment_status)}`},e.fulfillment.fulfillment_status.trim())),m&&r.createElement("p",{className:"order-card__detail-text"},"Tracking:"," ",r.createElement("a",{href:m,target:"_blank",rel:"noopener noreferrer"},e.fulfillment.tracking_number))):r.createElement("p",null,"Address not provided.")),r.createElement("div",{className:"order-card__payment"},r.createElement("h6",{className:"order-card__subheading"},"Payment"),r.createElement("p",{className:"order-card__detail-text"},"Total:"," ",r.createElement("strong",null,"$",parseFloat(e.total_amount).toFixed(2))),r.createElement("p",{className:"order-card__detail-text"},"Status:"," ",r.createElement("span",{className:`order-card__status ${i.class}`},i.text))))),r.createElement("div",{className:"order-card__footer"},r.createElement("button",{onClick:()=>t(e),className:"form__button form__button--primary"},"Update Fulfillment")))},K=function({order:e,onClose:t,onSubmit:a}){var l;const n=e.fulfillment||{},[s,o]=(0,r.useState)((null===(l=n.fulfillment_status)||void 0===l?void 0:l.trim())||"unfulfilled"),[c,i]=(0,r.useState)(n.shipping_provider||""),[m,d]=(0,r.useState)(n.tracking_number||""),[u,p]=(0,r.useState)(!1);return r.createElement("div",{className:"modal-shell",role:"dialog","aria-modal":"true"},r.createElement("div",{className:"modal-shell__dialog"},r.createElement("form",{onSubmit:async e=>{e.preventDefault(),p(!0),await a({fulfillment_status:s,shipping_provider:c,tracking_number:m}),p(!1)},className:"form modal-shell__content"},r.createElement("div",{className:"modal-shell__header"},r.createElement("h5",{className:"modal-shell__title"},"Update Fulfillment for Order #",e.order_id),r.createElement("button",{type:"button",className:"modal-shell__close-button",onClick:t,"aria-label":"Close"},"×")),r.createElement("div",{className:"modal-shell__body"},r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"status",className:"form__label"},"Fulfillment Status"),r.createElement("select",{id:"status",className:"form__input",value:s,onChange:e=>o(e.target.value)},["unfulfilled","processing","shipped","delivered","cancelled"].map((e=>r.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1)))))),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"provider",className:"form__label"},"Shipping Provider"),r.createElement("input",{id:"provider",type:"text",className:"form__input",value:c,onChange:e=>i(e.target.value),placeholder:"e.g., USPS, FedEx, UPS"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"tracking",className:"form__label"},"Tracking Number"),r.createElement("input",{id:"tracking",type:"text",className:"form__input",value:m,onChange:e=>d(e.target.value)}))),r.createElement("div",{className:"modal-shell__footer"},r.createElement("button",{type:"button",className:"form__button",onClick:t,disabled:u,style:{backgroundColor:"#6c757d"}},"Cancel"),r.createElement("button",{type:"submit",className:"form__button form__button--primary",disabled:u},u?"Saving...":"Save Update")))))},X=function(){const e=(0,r.useContext)(i),[t,a]=(0,r.useState)(!0),[l,n]=(0,r.useState)([]),[s,o]=(0,r.useState)("open"),[c,m]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[p,_]=(0,r.useState)(null),g=async()=>{a(!0),m(null);try{const e=await((e="open")=>M.get(`/admin/orders?status=${e}`))(s);n(e.data)}catch(t){console.error("Admin error fetching orders:",t),m("Could not load orders. Please try again later."),e({type:"flashMessage",value:"Failed to load orders."})}finally{a(!1)}};(0,r.useEffect)((()=>{g()}),[s]);const f=e=>{_(e),u(!0)},h=()=>{u(!1),_(null)};return r.createElement(w,{title:"Manage Orders"},r.createElement("div",{className:"profile-orders"},r.createElement("h2",{className:"container__heading-main"},"Manage All Orders"),r.createElement("div",{className:"profile-orders__view-toggle"},r.createElement("button",{onClick:()=>o("open"),className:"profile-orders__view-button "+("open"===s?"profile-orders__view-button--active":"")},"Open Orders"),r.createElement("button",{onClick:()=>o("closed"),className:"profile-orders__view-button "+("closed"===s?"profile-orders__view-button--active":"")},"Closed Orders")),t&&r.createElement(E,null),c&&r.createElement("div",{className:"profile-orders__status-message"},c),!t&&!c&&0===l.length&&r.createElement("p",{className:"profile-orders__status-message"},"There are no ",s," orders."),!t&&!c&&l.length>0&&r.createElement("div",{className:"profile-orders__list"},l.map((e=>r.createElement(Q,{key:e.order_id,order:e,onAdminUpdate:f})))),d&&p&&r.createElement(K,{order:p,onClose:h,onSubmit:async t=>{try{await((e,t)=>M.put(`/admin/orders/${e}/fulfillment`,t))(p.order_id,t),e({type:"flashMessage",value:`Order #${p.order_id} updated successfully!`}),h(),g()}catch(t){console.error("Error updating fulfillment:",t),e({type:"flashMessage",value:"Failed to update order. Please try again."})}}})))},ee=function(){const{id:e}=(0,n.g)(),t=(0,r.useContext)(c),a=(0,n.Zp)(),{urls:l}=t,[s,o]=(0,r.useState)(""),[i,m]=(0,r.useState)([]),[d,u]=(0,r.useState)({}),[p,f]=(0,r.useState)(!0),[h,v]=(0,r.useState)(null),[b,y]=(0,r.useState)({});(0,r.useEffect)((()=>{document.title=s?`${s} Products | SPP`:"Products | SPP",window.scrollTo(0,0)}),[s]),(0,r.useEffect)((()=>{l.api&&(async()=>{f(!0);try{const[t,a]=await Promise.all([fetch(`${l.api}/products/category/${e}`),fetch(`${l.api}/categories/${e}`)]);if(!t.ok)throw new Error(`Failed to load products: ${t.statusText}`);{const e=await t.json();m(Array.isArray(e)?e:[])}if(a.ok){const e=await a.json();o(e.cat_name||"this")}else o("this");v(null)}catch(e){v(e.message||"Failed to load page data"),m([]),o("")}f(!1)})()}),[e,l.api]);const N=(0,r.useMemo)((()=>i),[i]);if((0,r.useEffect)((()=>{l.api&&0!==N.length&&(async()=>{const e={};for(const t of N)if(t.id)try{const a=await fetch(`${l.api}/products/${t.id}/images`);if(a.ok){const r=await a.json();e[t.id]=Array.isArray(r)&&r.length>0?{img_path:r[0].img_path,img_desc:r[0].img_desc||""}:{img_path:null,img_desc:""}}else e[t.id]={img_path:null,img_desc:""}}catch(a){e[t.id]={img_path:null,img_desc:""}}u(e)})()}),[N,l.api]),h)return r.createElement(w,{title:"Error"},r.createElement("div",{style:{textAlign:"center"}},"Error: ",h));if(p)return r.createElement(w,{title:"Loading..."},r.createElement("div",{style:{textAlign:"center"}},r.createElement(E,null)));if(!i||0===i.length)return r.createElement(w,{title:"No Products"},r.createElement("div",{style:{textAlign:"center"}},"No products available for this category"));const C=i.length,P={modules:[g.Vx],spaceBetween:10,className:"swiper",navigation:C>1,centeredSlides:C<3,slidesPerView:1,breakpoints:{730:{slidesPerView:Math.min(C,2),spaceBetween:20},1024:{slidesPerView:Math.min(C,3),spaceBetween:30}}};return r.createElement(r.Fragment,null,r.createElement("h1",{className:"container__heading--animated"},s),r.createElement("div",{className:"swiper-container-wrapper"},r.createElement(_.RC,P,i.map((e=>{var s,o;return r.createElement(_.qr,{key:e.id},r.createElement("div",{className:"swiper-slide__card"},r.createElement("img",{src:null!==(s=d[e.id])&&void 0!==s&&s.img_path?`${l.images}${d[e.id].img_path}`:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",alt:e.prod_name||"Product",className:"swiper-slide__image"}),r.createElement("div",{className:"swiper-slide__content"},r.createElement("div",{className:"swiper-slide__main-content"},r.createElement("h3",{className:"swiper-slide__title"},e.prod_name||"Unknown"),r.createElement("div",{className:"collapsible-content "+(b[e.id]?"":"is-collapsed")},e.prod_desc&&r.createElement("p",{className:"swiper-slide__description"},e.prod_desc),(null===(o=d[e.id])||void 0===o?void 0:o.img_desc)&&r.createElement("p",{className:"swiper-slide__image-desc"},d[e.id].img_desc))),r.createElement("div",{className:"product-slide__footer"},e.prod_desc&&r.createElement("button",{onClick:()=>{return t=e.id,void y((e=>({...e,[t]:!e[t]})));var t},className:"swiper-slide__about-button"},b[e.id]?"Hide":"About"),e.prod_cost&&r.createElement(n.N_,{to:`/order/${e.id}`,state:{product:e},onClick:e=>(e=>{t.loggedIn||(e.preventDefault(),a("/"))})(e),className:"swiper-slide__about-button"},"$",parseFloat(e.prod_cost).toFixed(2))))))})))),r.createElement("div",{className:"container__wrapper--narrow"},r.createElement(n.N_,{className:"form__button",to:"/",style:{display:"inline-block",width:"auto",margin:"2rem 0"}},"Collections")))},te=function(){const e=(0,n.Zp)(),t=(0,n.zy)(),{product:a}=t.state||{},l=(0,r.useContext)(i),[s,o]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[p,_]=(0,r.useState)(""),[g,E]=(0,r.useState)(""),[f,h]=(0,r.useState)("USA"),[v,b]=(0,r.useState)(!1);return a?r.createElement(w,{title:"Shipping Information"},r.createElement("form",{onSubmit:async t=>{t.preventDefault(),b(!0);try{const t=await(o={items:[{product_id:a.id,quantity:1}],total_amount:a.prod_cost},M.post("/orders",o)),{order_id:i}=t.data.order;await(r=i,n={shipping_address_line1:s,shipping_address_line2:c,shipping_city:d,shipping_state:p,shipping_postal_code:g,shipping_country:f},M.post(`/orders/${r}/fulfillment`,n)),l({type:"flashMessage",value:"Shipping details saved. Please complete your payment."}),e(`/payment/${i}`)}catch(e){console.error("Error saving shipping info:",e.response?e.response.data:e.message),l({type:"flashMessage",value:"There was a problem saving your address. Please try again."}),b(!1)}var r,n,o},className:"form"},r.createElement("h2",{className:"form__heading"},"Shipping Details"),r.createElement("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1rem",background:"rgba(0,0,0,0.1)",borderRadius:"4px"}},r.createElement("p",null,"Ordering: ",r.createElement("strong",null,a.prod_name)," for"," ",r.createElement("strong",null,"$",parseFloat(a.prod_cost).toFixed(2)))),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"address1",className:"form__label"},"Address Line 1"),r.createElement("input",{id:"address1",type:"text",className:"form__input",value:s,onChange:e=>o(e.target.value),required:!0,autoComplete:"shipping street-address"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"address2",className:"form__label"},"Address Line 2 (Optional)"),r.createElement("input",{id:"address2",type:"text",className:"form__input",value:c,onChange:e=>m(e.target.value),autoComplete:"shipping address-line2"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"city",className:"form__label"},"City"),r.createElement("input",{id:"city",type:"text",className:"form__input",value:d,onChange:e=>u(e.target.value),required:!0,autoComplete:"shipping address-level2"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"state",className:"form__label"},"State / Province"),r.createElement("input",{id:"state",type:"text",className:"form__input",value:p,onChange:e=>_(e.target.value),required:!0,autoComplete:"shipping address-level1"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"zip",className:"form__label"},"ZIP / Postal Code"),r.createElement("input",{id:"zip",type:"text",className:"form__input",value:g,onChange:e=>E(e.target.value),required:!0,autoComplete:"shipping postal-code"})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"country",className:"form__label"},"Country"),r.createElement("input",{id:"country",type:"text",className:"form__input",value:f,onChange:e=>h(e.target.value),required:!0,autoComplete:"shipping country"})),r.createElement("button",{type:"submit",className:"form__button",disabled:v},v?"Saving...":"Proceed to Payment"))):(e("/"),null)};var ae=a(37),re=a(926);const le=(0,ae.c)("pk_live_51RpBKbA7zkZ3wcoSe65UzucpYryzwfwhCMIuOIcwNR0XW1OTYazR3eJz9qDl7KVk71LIYtLHHpSdxSCnkLmjBUYK004yD89WUl"),ne=({order:e})=>{const t=(0,re.useStripe)(),a=(0,re.useElements)(),l=(0,n.Zp)(),s=(0,r.useContext)(i),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)(!1);return r.createElement("form",{id:"payment-form",onSubmit:async r=>{if(r.preventDefault(),!t||!a)return;d(!0);const{error:n}=await t.confirmPayment({elements:a,redirect:"if_required"});n?"card_error"===n.type||"validation_error"===n.type?c(n.message):c("An unexpected error occurred."):(s({type:"flashMessage",value:"Payment successful! Your order is being processed."}),l(`/order-confirmation/${e.order_id}`)),d(!1)}},r.createElement(re.PaymentElement,{id:"payment-element"}),r.createElement("button",{disabled:m||!t||!a,id:"submit",className:"form__button",style:{marginTop:"1.5rem"}},r.createElement("span",{id:"button-text"},m?"Processing...":`Pay $${parseFloat(e.total_amount).toFixed(2)}`)),o&&r.createElement("div",{id:"payment-message",style:{color:"red",marginTop:"1rem"}},o))},se=function(){const{orderId:e}=(0,n.g)(),t=(0,n.Zp)(),a=(0,r.useContext)(i),[l,s]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null),[m,d]=(0,r.useState)("");(0,r.useEffect)((()=>{!async function(){try{const t=await G(e);c(t.data);const a=await(e=>M.post(`/orders/${e}/create-payment-intent`))(e);d(a.data.clientSecret)}catch(e){console.error("Could not fetch order or create payment intent.",e),a({type:"flashMessage",value:"Could not initialize payment. Please try again or contact support."}),t("/")}finally{s(!1)}}()}),[e,t,a]);const u={clientSecret:m,appearance:{theme:"stripe"}};return l||!o?r.createElement(w,{title:"Loading Payment..."},r.createElement(E,null)):r.createElement(w,{title:"Complete Payment"},r.createElement("div",{className:"form"},r.createElement("h2",{className:"form__heading"},"Confirm & Pay"),r.createElement("div",{className:"payment-summary",style:{marginBottom:"2rem"}},r.createElement("h4",{style:{borderBottom:"1px solid #444",paddingBottom:"0.5rem"}},"Order Summary"),r.createElement("ul",{style:{listStyle:"none",padding:0}},o.items.map((e=>r.createElement("li",{key:e.product_id,style:{display:"flex",justifyContent:"space-between",padding:"0.5rem 0"}},r.createElement("span",null,e.prod_name," (x",e.quantity,")"),r.createElement("span",null,"$",parseFloat(e.price_at_purchase).toFixed(2)))))),r.createElement("hr",{style:{border:"1px solid #444"}}),r.createElement("p",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.2rem",fontWeight:"bold"}},r.createElement("span",null,"Total:"),r.createElement("span",null,"$",parseFloat(o.total_amount).toFixed(2)))),r.createElement("h4",{style:{borderBottom:"1px solid #444",paddingBottom:"0.5rem",marginBottom:"1.5rem"}},"Payment Method"),m&&r.createElement(re.Elements,{options:u,stripe:le},r.createElement(ne,{order:o}))))},oe=function(){const e=(0,r.useContext)(c),t=(0,r.useContext)(i),[a,l]=(0,r.useState)(""),[n,s]=(0,r.useState)(!1);return r.createElement(w,{title:"Settings"},r.createElement("form",{onSubmit:async function(r){r.preventDefault(),s(!0);try{if(!e.user.user_id)throw new Error("User ID not available. Please log in again.");const r=60*parseInt(a)*1e3;if(isNaN(r)||r<3e5)return t({type:"flashMessage",value:"Refresh interval must be a number and at least 5 minutes."}),void s(!1);await(o=e.user.user_id,c=r,M.put(`/users/${o}/refresh-interval`,{refreshInterval:c})),t({type:"setRefreshInterval",data:r}),t({type:"flashMessage",value:`Refresh interval updated to ${a} minutes.`}),l("")}catch(r){var n;console.error("Update refresh interval error:",r.response?r.response.data:r.message),t({type:"flashMessage",value:(null===(n=r.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||r.message||"Failed to update refresh interval."})}finally{s(!1)}var o,c},className:"form"},r.createElement("h2",{className:"form__heading"},"Token Refresh Settings"),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"interval-minutes",className:"form__label"},"Refresh Interval (minutes)"),r.createElement("input",{id:"interval-minutes",type:"number",min:"5",value:a,onChange:e=>l(e.target.value),className:"form__input",placeholder:`Current: ${e.user.refresh_interval/6e4} min (minimum 5)`,required:!0})),r.createElement("button",{type:"submit",className:"form__button",disabled:n},n?"Updating...":"Update Interval")))},ce=function(){(0,r.useEffect)((()=>{document.title="The Build Process | SPP",window.scrollTo(0,0)}),[]);const e=["02a6e9bdcac290df85edc11e03072e14-cc_ft_768.webp","06fc9c19a52dc5a5e471415041cb7b2f-cc_ft_384.webp","0eef4e308f4a236466d1bd68b731ef31-cc_ft_384.webp","24cc21e1ea9dc30d52553746ad1d2d5f-cc_ft_384.webp","29801242bbb3085dae9ae9d32c7afd55-cc_ft_384.webp","30e5fb8471ab92bdb157fa87404f2eb7-cc_ft_768.webp","3881d8deee47561a5d4f077ca6b321a2-cc_ft_384.webp","39e936c3dddec63c54fd0d23cc6809d5-cc_ft_768.webp","3a214261b3977af50282530b1dda77ac-cc_ft_384.webp","5dcba43c274d947ce179a5fa13649e1e-cc_ft_384.webp","609b7e50f57f32bbaa0c8cb91eaeef30-cc_ft_768.webp","629eebbf4aa705f37e6d106954161512-cc_ft_384.webp","684a8c5763c7b5617af40c4b6e604423-cc_ft_768.webp","689b4891c1b191e689100c7b2df8894b-cc_ft_384.webp","695994d68204f405989c166ca522ad50-cc_ft_768.webp","6b2cc2184f990e10f944d99a46f79285-cc_ft_384.webp","6dd5f73382f056713dd0416551b9612d-cc_ft_768.webp","6ffa3e1eccd6e3509fc7ef7a252ac509-cc_ft_384.webp","70c44c5c98140d027fdb05fd141bc85b-cc_ft_384.webp","7f8752e8eeeffad3070dfeb0e49fdbf3-cc_ft_384.webp","8fbf3cda378b3517ce93c5a8ac9235fc-cc_ft_384.webp","91de79006a7db23c987b4503bb48b76b-cc_ft_384.webp","943c3796bb097787957bc788e4a0647f-cc_ft_768.webp","948622a68135f1add8c28e0b9f0fb1d7-cc_ft_768.webp","9c4d13cb31a39116395aa0efd7971bcf-cc_ft_384.webp","a4f95ed133a882cf2fb1893e0b42fdda-cc_ft_384.webp","a815e13e8430dd71ffabfc3a81dc9376-cc_ft_768.webp","adf00e076c472dd0cad1f01c645838d2-cc_ft_384.webp","b204d843652ebda465a20fdc18c7c59c-cc_ft_384.webp","b28318e1183847f551cb01e306629a1e-cc_ft_384.webp","bb3374a5118d7cd952af274a94077243-cc_ft_384.webp","ca294fbc9cfb123e8914c9d39aad79e5-cc_ft_384.webp","cd6a87ba2470fee6d6993ad774d69129-cc_ft_384.webp","cf3f45f3618f0a8344f30f9f22e41bff-cc_ft_768.webp","d63f22ba173749e624951e6b94e6457a-cc_ft_384.webp","dfb1135eedbd175fd89fdf998addc065-cc_ft_768.webp","e07b6f04e90c708fb127767f907433ff-cc_ft_384.webp","e09e89ed287f81eaf0c9902ac864f830-cc_ft_768.webp","e141d7b858d4fed9aea6f1bdaa64bd3e-cc_ft_384.webp","eab9195985cf6726e964cda45b13f645-cc_ft_768.webp"],t=e.filter((e=>e.includes("-cc_ft_768"))),a=e.filter((e=>e.includes("-cc_ft_384")));return r.createElement(r.Fragment,null,r.createElement("h1",{className:"container__heading--animated"},"Custom Home Build"),r.createElement("div",{className:"image-grid-container"},r.createElement("div",{className:"image-grid image-grid--portrait"},t.map(((e,t)=>r.createElement("div",{key:`portrait-${t}`,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/home/${e}`,alt:`Build process step ${t+1}`,className:"image-grid__img"}))))),r.createElement("div",{className:"image-grid image-grid--landscape"},a.map(((e,t)=>r.createElement("div",{key:`landscape-${t}`,className:"image-grid__item"},r.createElement("img",{src:`../assets/images/home/${e}`,alt:`Build process detail ${t+1}`,className:"image-grid__img"})))))))},ie=function({order:e,onClose:t,onSubmit:a}){const l=e.fulfillment||{},[n,s]=(0,r.useState)(l.shipping_address_line1||""),[o,c]=(0,r.useState)(l.shipping_address_line2||""),[i,m]=(0,r.useState)(l.shipping_city||""),[d,u]=(0,r.useState)(l.shipping_state||""),[p,_]=(0,r.useState)(l.shipping_postal_code||""),[g,E]=(0,r.useState)(l.shipping_country||"USA"),[f,h]=(0,r.useState)(!1);return r.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"}},r.createElement("div",{className:"modal-dialog modal-lg",role:"document"},r.createElement("div",{className:"modal-content",style:{backgroundColor:"#2d2d2d",color:"white"}},r.createElement("form",{onSubmit:async e=>{e.preventDefault(),h(!0),await a({shipping_address_line1:n,shipping_address_line2:o,shipping_city:i,shipping_state:d,shipping_postal_code:p,shipping_country:g}),h(!1)},className:"form",style:{border:"none"}},r.createElement("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("h5",{className:"modal-title"},"Edit Shipping Address for Order #",e.order_id),r.createElement("button",{type:"button",className:"close",style:{color:"white"},onClick:t,"aria-label":"Close"},r.createElement("span",{"aria-hidden":"true"},"×"))),r.createElement("div",{className:"modal-body"},r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"address1",className:"form__label"},"Address Line 1"),r.createElement("input",{id:"address1",type:"text",className:"form__input",value:n,onChange:e=>s(e.target.value),required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"address2",className:"form__label"},"Address Line 2 (Optional)"),r.createElement("input",{id:"address2",type:"text",className:"form__input",value:o,onChange:e=>c(e.target.value)})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"city",className:"form__label"},"City"),r.createElement("input",{id:"city",type:"text",className:"form__input",value:i,onChange:e=>m(e.target.value),required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"state",className:"form__label"},"State / Province"),r.createElement("input",{id:"state",type:"text",className:"form__input",value:d,onChange:e=>u(e.target.value),required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"zip",className:"form__label"},"ZIP / Postal Code"),r.createElement("input",{id:"zip",type:"text",className:"form__input",value:p,onChange:e=>_(e.target.value),required:!0})),r.createElement("div",{className:"form__group"},r.createElement("label",{htmlFor:"country",className:"form__label"},"Country"),r.createElement("input",{id:"country",type:"text",className:"form__input",value:g,onChange:e=>E(e.target.value),required:!0}))),r.createElement("div",{className:"modal-footer",style:{borderTop:"1px solid rgba(255, 255, 255, 0.2)"}},r.createElement("button",{type:"button",className:"form__button",onClick:t,disabled:f,style:{backgroundColor:"#6c757d"}},"Cancel"),r.createElement("button",{type:"submit",className:"form__button",disabled:f},f?"Saving...":"Save Address"))))))},me=function({order:e,onCancel:t,onEditAddress:a}){var l,s,o;const{urls:i}=(0,r.useContext)(c),m=e=>`order-card__status--${{pending_payment:"pending_payment",unfulfilled:"unfulfilled",processing:"processing",shipped:"shipped",delivered:"delivered",completed:"completed",cancelled:"cancelled",succeeded:"succeeded",failed:"failed",declined:"declined"}[e?e.trim():""]||"default"}`,d=(()=>{if(!e.payments||0===e.payments.length)return{text:"Awaiting Payment",class:m("pending_payment")};const t=e.payments.sort(((e,t)=>new Date(t.payment_date)-new Date(e.payment_date)))[0];return{text:t.payment_status?t.payment_status.trim():"Unknown",class:m(t.payment_status)}})(),u="unfulfilled"===(null===(l=e.fulfillment)||void 0===l||null===(l=l.fulfillment_status)||void 0===l?void 0:l.trim()),p=u&&["pending_payment","processing"].includes(null===(s=e.order_status)||void 0===s?void 0:s.trim()),_="failed"===d.text||"declined"===d.text||"Awaiting Payment"===d.text;return r.createElement("div",{className:"order-card"},r.createElement("div",{className:"order-card__header"},r.createElement("div",null,r.createElement("h5",{className:"order-card__id"},"Order #",e.order_id),r.createElement("p",{className:"order-card__date"},"Placed on: ",new Date(e.created_at).toLocaleDateString())),r.createElement("span",{className:`order-card__status ${m(e.order_status)}`},null===(o=e.order_status)||void 0===o?void 0:o.trim().replace("_"," "))),r.createElement("div",{className:"order-card__body"},e.items.map((e=>r.createElement("div",{key:e.order_item_id,className:"order-card__item"},r.createElement("img",{src:i.images+e.product_image_path,alt:e.prod_name,className:"order-card__item-image"}),r.createElement("div",{className:"order-card__item-details"},r.createElement("h6",{className:"order-card__item-name"},e.prod_name),r.createElement("p",{className:"order-card__item-info"},"Quantity: ",e.quantity," × $",parseFloat(e.price_at_purchase).toFixed(2)))))),r.createElement("hr",{className:"order-card__divider"}),r.createElement("div",{className:"order-card__details-section"},r.createElement("div",{className:"order-card__shipping"},r.createElement("h6",{className:"order-card__subheading"},"Shipping Details"),e.fulfillment?r.createElement(r.Fragment,null,r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_address_line1),e.fulfillment.shipping_address_line2&&r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_address_line2),r.createElement("p",{className:"order-card__detail-text"},e.fulfillment.shipping_city,","," ",e.fulfillment.shipping_state," ",e.fulfillment.shipping_postal_code),r.createElement("p",{className:"order-card__detail-text"},"Status:"," ",r.createElement("span",{className:`order-card__status ${m(e.fulfillment.fulfillment_status)}`},e.fulfillment.fulfillment_status.trim())),e.fulfillment.tracking_number&&r.createElement("p",{className:"order-card__detail-text"},"Tracking:"," ",r.createElement("a",{href:`#tracking-${e.fulfillment.tracking_number}`},e.fulfillment.tracking_number))):r.createElement("p",null,"Address not provided.")),r.createElement("div",{className:"order-card__payment"},r.createElement("h6",{className:"order-card__subheading"},"Payment"),r.createElement("p",{className:"order-card__detail-text"},"Total:"," ",r.createElement("strong",null,"$",parseFloat(e.total_amount).toFixed(2))),r.createElement("p",{className:"order-card__detail-text"},"Status:"," ",r.createElement("span",{className:`order-card__status ${d.class}`},d.text))))),r.createElement("div",{className:"order-card__footer"},u&&r.createElement("button",{onClick:()=>a(e),className:"form__button",style:{backgroundColor:"#5bc0de"}},"Edit Address"),_&&r.createElement(n.N_,{to:`/payment/${e.order_id}`,className:"form__button",style:{backgroundColor:"#f0ad4e"}},"Awaiting Payment"===d.text?"Pay Now":"Retry Payment"),p&&r.createElement("button",{onClick:()=>t(e.order_id),className:"form__button",style:{backgroundColor:"#d9534f"}},"Cancel Order")))},de=function(){const e=(0,r.useContext)(c),t=(0,r.useContext)(i),a=(0,n.Zp)(),[l,s]=(0,r.useState)(!0),[o,m]=(0,r.useState)([]),[d,u]=(0,r.useState)("open"),[p,_]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[h,v]=(0,r.useState)(null);(0,r.useEffect)((()=>{!async function(){if(e.loggedIn){s(!0),_(null);try{const e=await((e="open")=>M.get(`/orders?status=${e}`))(d);m(e.data)}catch(e){console.error("Error fetching orders:",e),_("Could not load your orders. Please try again later."),t({type:"flashMessage",value:"Failed to load orders."})}finally{s(!1)}}else a("/")}()}),[d,e.loggedIn,a,t]);const b=async e=>{if(window.confirm("Are you sure you want to cancel this order? This action cannot be undone."))try{await(e=>M.put(`/orders/${e}/cancel`))(e),t({type:"flashMessage",value:"Order cancelled successfully."}),m((t=>t.filter((t=>t.order_id!==e))))}catch(e){var a;const r=(null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"Failed to cancel the order.";t({type:"flashMessage",value:r})}},y=e=>{v(e),f(!0)},N=()=>{f(!1),v(null)};return r.createElement(w,{title:"My Orders"},r.createElement("div",{className:"profile-orders"},r.createElement("h2",{className:"container__heading-main"},"Your Orders"),r.createElement("div",{className:"profile-orders__view-toggle"},r.createElement("button",{onClick:()=>u("open"),className:"profile-orders__view-button "+("open"===d?"profile-orders__view-button--active":"")},"Open Orders"),r.createElement("button",{onClick:()=>u("closed"),className:"profile-orders__view-button "+("closed"===d?"profile-orders__view-button--active":"")},"Order History")),l&&r.createElement(E,null),p&&r.createElement("div",{className:"profile-orders__status-message"},p),!l&&!p&&0===o.length&&r.createElement("p",{className:"profile-orders__status-message"},"You have no ",d," orders."),!l&&!p&&o.length>0&&r.createElement("div",{className:"profile-orders__list"},o.map((e=>r.createElement(me,{key:e.order_id,order:e,onCancel:b,onEditAddress:y})))),g&&h&&r.createElement(ie,{order:h,onClose:N,onSubmit:async e=>{try{const l=await(a=h.order_id,r=e,M.put(`/orders/${a}/fulfillment`,r));t({type:"flashMessage",value:"Address updated successfully!"}),m((e=>e.map((e=>e.order_id===h.order_id?{...e,fulfillment:l.data}:e)))),N()}catch(e){console.error("Error updating address:",e),t({type:"flashMessage",value:"Failed to update address. Please check your details."})}var a,r}})))},ue=function(){const{orderId:e}=(0,n.g)(),[t,a]=(0,r.useState)(!0),[l,s]=(0,r.useState)(null),[o,c]=(0,r.useState)(null);return(0,r.useEffect)((()=>{!async function(){try{const t=await G(e);s(t.data)}catch(e){console.error("Failed to fetch order details for confirmation page",e),c("Could not load your order details. Please check your order history.")}finally{a(!1)}}()}),[e]),t?r.createElement(w,{title:"Loading..."},r.createElement(E,null)):o?r.createElement(w,{title:"Error"},r.createElement("p",{className:"text-center text-danger"},o)):r.createElement(w,{title:`Order #${l.order_id} Confirmed`},r.createElement("div",{className:"order-confirmation"},r.createElement("div",{className:"order-confirmation__icon"},"✅"),r.createElement("h1",{className:"order-confirmation__heading"},"Thank You For Your Order!"),r.createElement("p",{className:"order-confirmation__lead"},"A confirmation email has been sent to ",r.createElement("strong",null,l.email),"."),r.createElement("p",{className:"order-confirmation__text"},"Your order number is ",r.createElement("strong",null,"#",l.order_id),". We've received it and will begin processing it shortly."),r.createElement("div",{className:"order-confirmation__summary-box"},r.createElement("h3",{className:"order-confirmation__summary-title"},"Order Summary"),r.createElement("ul",{className:"order-confirmation__summary-list"},l.items.map((e=>r.createElement("li",{key:e.product_id,className:"order-confirmation__summary-item"},r.createElement("span",null,e.prod_name," (x",e.quantity,")"),r.createElement("span",null,"$",parseFloat(e.price_at_purchase).toFixed(2)))))),r.createElement("div",{className:"order-confirmation__summary-total"},r.createElement("span",null,"Total:"),r.createElement("span",null,"$",parseFloat(l.total_amount).toFixed(2)))),r.createElement("div",{className:"order-confirmation__actions"},r.createElement(n.N_,{to:"/profile-orders",className:"form__button"},"View All My Orders"))))};function pe(){const e=(0,r.useContext)(c);return e.appIsReady?r.createElement("main",{className:"page-content"},r.createElement(n.BV,null,r.createElement(n.qh,{path:"/",element:e.loggedIn?r.createElement(h,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/request-password-reset",element:r.createElement(q,null)}),r.createElement(n.qh,{path:"/reset-password",element:r.createElement(D,null)}),r.createElement(n.qh,{path:"/register",element:r.createElement(U,null)}),r.createElement(n.qh,{path:"/admin-dashboard",element:e.loggedIn&&e.user.admin?r.createElement(B,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-category-post",element:e.loggedIn&&e.user.admin?r.createElement(L,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-category-put-select",element:e.loggedIn&&e.user.admin?r.createElement(J,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-category-put/:id",element:e.loggedIn&&e.user.admin?r.createElement(O,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-category-image-post/:id",element:e.loggedIn&&e.user.admin?r.createElement(Z,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-product-put-select/:id",element:e.loggedIn&&e.user.admin?r.createElement(R,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-product-post/:id",element:e.loggedIn&&e.user.admin?r.createElement(j,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-product-put/:id",element:r.createElement(z,null)}),r.createElement(n.qh,{path:"/admin-product-image-post/:id",element:e.loggedIn&&e.user.admin?r.createElement(V,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-product-image-put-select/:id",element:e.loggedIn&&e.user.admin?r.createElement(W,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-product-image-put/:id",element:e.loggedIn&&e.user.admin?r.createElement(H,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin-order",element:e.loggedIn&&e.user.admin?r.createElement(X,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/settings",element:r.createElement(oe,null)}),r.createElement(n.qh,{path:"/category/:id/products",element:r.createElement(ee,null)}),r.createElement(n.qh,{path:"/order/:productId",element:e.loggedIn?r.createElement(te,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/admin/adminOrder",element:e.loggedIn&&e.user.admin?r.createElement(X,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/payment/:orderId",element:e.loggedIn?r.createElement(se,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/order-confirmation/:orderId",element:e.loggedIn?r.createElement(ue,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/about-artist",element:r.createElement(y,null)}),r.createElement(n.qh,{path:"/about-mtb",element:r.createElement(I,null)}),r.createElement(n.qh,{path:"/about-engineer",element:r.createElement(C,null)}),r.createElement(n.qh,{path:"/about-history",element:r.createElement(P,null)}),r.createElement(n.qh,{path:"/about-family",element:r.createElement(S,null)}),r.createElement(n.qh,{path:"/about-raven",element:r.createElement(k,null)}),r.createElement(n.qh,{path:"/about-build",element:r.createElement(ce,null)}),r.createElement(n.qh,{path:"/terms",element:r.createElement(x,null)}),r.createElement(n.qh,{path:"/profile-orders",element:e.loggedIn?r.createElement(de,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"/home",element:e.loggedIn?r.createElement(h,null):r.createElement(v,null)}),r.createElement(n.qh,{path:"*",element:r.createElement("h1",{className:"text-center"},"404 Page Not Found")}))):r.createElement("main",{className:"page-content",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.createElement(E,null))}const _e=function({closeModal:e}){const t=(0,r.useContext)(i),[a,l]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),c=(0,n.Zp)();return r.createElement("form",{onSubmit:async function(r){r.preventDefault();try{const r=await(n={username:a,password:s},M.post("/users/login",n));r.data.token?(t({type:"logIn",data:r.data}),t({type:"flashMessage",value:"You have successfully logged in!"}),c("/"),e&&e()):t({type:"flashMessage",value:"Incorrect username or password."})}catch(r){var l;t({type:"flashMessage",value:(null===(l=r.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.error)||"Login failed. Please try again."})}var n}},r.createElement("div",{className:"form__group"},r.createElement("input",{onChange:e=>l(e.target.value),name:"username",className:"form__input",type:"text",placeholder:"Username",autoComplete:"username"})),r.createElement("div",{className:"form__group"},r.createElement("input",{onChange:e=>o(e.target.value),name:"password",className:"form__input",type:"password",placeholder:"Password",autoComplete:"current-password"})),r.createElement("button",{type:"submit",className:"form__button"},"Sign In"))},ge=function(e){return e.isMobile?r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(n.N_,{to:"/profile-orders",onClick:e.closeModal},"Profile")),r.createElement("li",null,r.createElement("button",{onClick:e.onLogOut,className:"form__button"},"Sign Out"))):r.createElement(r.Fragment,null,r.createElement(n.N_,{to:"/profile-orders"},"Profile"),r.createElement("div",{className:"form__group"},r.createElement("button",{onClick:e.onLogOut,className:"form__button"},"Sign Out")))},Ee=function(){const e=(0,r.useContext)(c),t=(0,r.useContext)(i),[a,l]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),[m,d]=(0,r.useState)(window.innerWidth>=800),[u,p]=(0,r.useState)(!0);(0,r.useEffect)((()=>{if(!m){const e=setTimeout((()=>p(!1)),1e3);return()=>clearTimeout(e)}p(!1)}),[]),(0,r.useEffect)((()=>{const e=()=>o(window.scrollY>10);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),(0,r.useEffect)((()=>{const e=()=>d(window.innerWidth>=800);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,r.useEffect)((()=>{a?document.body.classList.add("overlay-is-open"):document.body.classList.remove("overlay-is-open")}),[a]);const _=()=>l((e=>!e)),g=m&&!s||!m&&u&&!s;function E(){l(!1),setTimeout((()=>{t({type:"logOut"}),window.location="/"}),300)}return r.createElement("header",{className:`site-header ${a?"site-header--is-expanded":""} ${s?"site-header--is-scrolled":""}`},r.createElement("div",{className:"site-header__logo-wrapper"},r.createElement("div",{className:"site-header__logo "+(g?"site-header__logo--large":"")},r.createElement(n.N_,{to:"/"},r.createElement("img",{src:"/assets/images/icons/spp-logo.svg",alt:"SPP Logo",className:"site-header__logo__graphic"})))),r.createElement("nav",{className:"site-header__nav-desktop"},r.createElement("ul",null,e.loggedIn?r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(n.N_,{to:"/about-artist"},"Artist")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-engineer"},"Engineer")),r.createElement("li",null,r.createElement(ge,{onLogOut:E}))):r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement(n.N_,{to:"/about-artist"},"Artist")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-engineer"},"Engineer")),r.createElement("li",null,r.createElement(n.N_,{to:"/register"},"Register")),r.createElement("li",null,r.createElement(_e,null))))),r.createElement("div",{className:"site-header__menu-icon "+(a?"site-header__menu-icon--close-x":""),onClick:_},r.createElement("div",{className:"site-header__menu-icon__middle"})),r.createElement("div",{className:"mobile-overlay "+(a?"mobile-overlay--is-open":"")},e.loggedIn?r.createElement("nav",{className:"mobile-overlay__nav"},r.createElement("ul",null,r.createElement("li",null,r.createElement(n.N_,{to:"/",onClick:_},"Home")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-artist",onClick:_},"Artist")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-engineer",onClick:_},"Engineer")),r.createElement(ge,{isMobile:!0,onLogOut:E,closeModal:_}))):r.createElement("nav",{className:"mobile-overlay__nav"},r.createElement("ul",null,r.createElement("li",null,r.createElement(n.N_,{to:"/",onClick:_},"Home")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-artist",onClick:_},"Artist")),r.createElement("li",null,r.createElement(n.N_,{to:"/about-engineer",onClick:_},"Engineer")),r.createElement("li",null,r.createElement(n.N_,{to:"/register",onClick:_},"Register")),r.createElement("li",null,r.createElement(_e,null))))))},fe=function(){const e=(0,r.useContext)(c);return r.createElement("footer",{className:"site-footer"},r.createElement("p",null,r.createElement(n.N_,{to:"/",className:"text-muted white-font"}," ","Home"," ")," ","|"," ",r.createElement(n.N_,{to:"/about-engineer",className:""},"Engineer")," ","|"," ",r.createElement(n.N_,{to:"/about-artist",className:""},"Artist")," ","|"," ",r.createElement(n.N_,{to:"/terms",className:""},"Terms"),e.loggedIn&&e.user.admin&&r.createElement(r.Fragment,null," | ",r.createElement(n.N_,{to:"/admin-dashboard",className:""},"Admin Dashboard"))),r.createElement("p",null,"All rights reserved. Copyright © ",(new Date).getFullYear()))};class he extends r.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t)}render(){return this.state.hasError?r.createElement("h1",null,"Something went wrong. Please try again later."):this.props.children}}function ve(){const{flashMessages:e}=(0,r.useContext)(c);return r.createElement(T,{messages:e})}function be(){return r.createElement(he,null,r.createElement(p,null,r.createElement(n.Kd,null,r.createElement(ve,null),r.createElement(Ee,null),r.createElement(pe,null),r.createElement(fe,null))))}l.createRoot(document.querySelector("#app")).render(r.createElement(be,null))}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e].call(n.exports,n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,a,l,n)=>{if(!a){var s=1/0;for(m=0;m<e.length;m++){a=e[m][0],l=e[m][1],n=e[m][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(o=!1,n<s&&(s=n));if(o){e.splice(m--,1);var i=l();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,l,n]},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var l,n,s=a[0],o=a[1],c=a[2],i=0;if(s.some((t=>0!==e[t]))){for(l in o)r.o(o,l)&&(r.m[l]=o[l]);if(c)var m=c(r)}for(t&&t(a);i<s.length;i++)n=s[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(m)},a=self.webpackChunkspp_frontend=self.webpackChunkspp_frontend||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var l=r.O(void 0,[58],(()=>r(594)));l=r.O(l)})();